define(["require", "exports", "react/jsx-runtime", "react", "@tanstack/react-table", "lucide-react", "@/components/ui/button", "@/components/ui/card", "@/components/ui/checkbox", "@/components/ui/dropdown-menu", "@/components/ui/input", "@/components/ui/table"], function (require, exports, jsx_runtime_1, React, react_table_1, lucide_react_1, button_1, card_1, checkbox_1, dropdown_menu_1, input_1, table_1) {
    "use client";
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.columns = void 0;
    exports.CardsDataTable = CardsDataTable;
    const data = [
        {
            id: "m5gr84i9",
            amount: 316,
            status: "success",
            email: "ken99@yahoo.com",
        },
        {
            id: "3u1reuv4",
            amount: 242,
            status: "success",
            email: "Abe45@gmail.com",
        },
        {
            id: "derv1ws0",
            amount: 837,
            status: "processing",
            email: "Monserrat44@gmail.com",
        },
        {
            id: "bhqecj4p",
            amount: 721,
            status: "failed",
            email: "carmella@hotmail.com",
        },
    ];
    exports.columns = [
        {
            id: "select",
            header: ({ table }) => ((0, jsx_runtime_1.jsx)(checkbox_1.Checkbox, { checked: table.getIsAllPageRowsSelected() ||
                    (table.getIsSomePageRowsSelected() ? "indeterminate" : false), onCheckedChange: (value) => table.toggleAllPageRowsSelected(!!value), "aria-label": "Select all" })),
            cell: ({ row }) => ((0, jsx_runtime_1.jsx)(checkbox_1.Checkbox, { checked: row.getIsSelected(), onCheckedChange: (value) => row.toggleSelected(!!value), "aria-label": "Select row" })),
            enableSorting: false,
            enableHiding: false,
        },
        {
            accessorKey: "status",
            header: "Status",
            cell: ({ row }) => ((0, jsx_runtime_1.jsx)("div", { className: "capitalize", children: row.getValue("status") })),
        },
        {
            accessorKey: "email",
            header: ({ column }) => {
                return ((0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "ghost", onClick: () => column.toggleSorting(column.getIsSorted() === "asc"), children: ["Email", (0, jsx_runtime_1.jsx)(lucide_react_1.ArrowUpDown, {})] }));
            },
            cell: ({ row }) => (0, jsx_runtime_1.jsx)("div", { className: "lowercase", children: row.getValue("email") }),
        },
        {
            accessorKey: "amount",
            header: () => (0, jsx_runtime_1.jsx)("div", { className: "text-right", children: "Amount" }),
            cell: ({ row }) => {
                const amount = parseFloat(row.getValue("amount"));
                // Format the amount as a dollar amount
                const formatted = new Intl.NumberFormat("en-US", {
                    style: "currency",
                    currency: "USD",
                }).format(amount);
                return (0, jsx_runtime_1.jsx)("div", { className: "text-right font-medium", children: formatted });
            },
        },
        {
            id: "actions",
            enableHiding: false,
            cell: ({ row }) => {
                const payment = row.original;
                return ((0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenu, { children: [(0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuTrigger, { asChild: true, children: (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "ghost", className: "h-8 w-8 p-0", children: [(0, jsx_runtime_1.jsx)("span", { className: "sr-only", children: "Open menu" }), (0, jsx_runtime_1.jsx)(lucide_react_1.MoreHorizontal, {})] }) }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenuContent, { align: "end", children: [(0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuLabel, { children: "Actions" }), (0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuItem, { onClick: () => navigator.clipboard.writeText(payment.id), children: "Copy payment ID" }), (0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuSeparator, {}), (0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuItem, { children: "View customer" }), (0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuItem, { children: "View payment details" })] })] }));
            },
        },
    ];
    function CardsDataTable() {
        var _a, _b, _c;
        const [sorting, setSorting] = React.useState([]);
        const [columnFilters, setColumnFilters] = React.useState([]);
        const [columnVisibility, setColumnVisibility] = React.useState({});
        const [rowSelection, setRowSelection] = React.useState({});
        const table = (0, react_table_1.useReactTable)({
            data,
            columns: exports.columns,
            onSortingChange: setSorting,
            onColumnFiltersChange: setColumnFilters,
            getCoreRowModel: (0, react_table_1.getCoreRowModel)(),
            getPaginationRowModel: (0, react_table_1.getPaginationRowModel)(),
            getSortedRowModel: (0, react_table_1.getSortedRowModel)(),
            getFilteredRowModel: (0, react_table_1.getFilteredRowModel)(),
            onColumnVisibilityChange: setColumnVisibility,
            onRowSelectionChange: setRowSelection,
            state: {
                sorting,
                columnFilters,
                columnVisibility,
                rowSelection,
            },
        });
        return ((0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { className: "text-xl", children: "Payments" }), (0, jsx_runtime_1.jsx)(card_1.CardDescription, { children: "Manage your payments." })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsxs)("div", { className: "mb-4 flex items-center gap-4", children: [(0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "Filter emails...", value: (_b = (_a = table.getColumn("email")) === null || _a === void 0 ? void 0 : _a.getFilterValue()) !== null && _b !== void 0 ? _b : "", onChange: (event) => { var _a; return (_a = table.getColumn("email")) === null || _a === void 0 ? void 0 : _a.setFilterValue(event.target.value); }, className: "max-w-sm" }), (0, jsx_runtime_1.jsxs)(dropdown_menu_1.DropdownMenu, { children: [(0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuTrigger, { asChild: true, children: (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "outline", className: "ml-auto", children: ["Columns ", (0, jsx_runtime_1.jsx)(lucide_react_1.ChevronDown, {})] }) }), (0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuContent, { align: "end", children: table
                                                .getAllColumns()
                                                .filter((column) => column.getCanHide())
                                                .map((column) => {
                                                return ((0, jsx_runtime_1.jsx)(dropdown_menu_1.DropdownMenuCheckboxItem, { className: "capitalize", checked: column.getIsVisible(), onCheckedChange: (value) => column.toggleVisibility(!!value), children: column.id }, column.id));
                                            }) })] })] }), (0, jsx_runtime_1.jsx)("div", { className: "rounded-md border", children: (0, jsx_runtime_1.jsxs)(table_1.Table, { children: [(0, jsx_runtime_1.jsx)(table_1.TableHeader, { children: table.getHeaderGroups().map((headerGroup) => ((0, jsx_runtime_1.jsx)(table_1.TableRow, { children: headerGroup.headers.map((header) => {
                                                return ((0, jsx_runtime_1.jsx)(table_1.TableHead, { className: "[&:has([role=checkbox])]:pl-3", children: header.isPlaceholder
                                                        ? null
                                                        : (0, react_table_1.flexRender)(header.column.columnDef.header, header.getContext()) }, header.id));
                                            }) }, headerGroup.id))) }), (0, jsx_runtime_1.jsx)(table_1.TableBody, { children: ((_c = table.getRowModel().rows) === null || _c === void 0 ? void 0 : _c.length) ? (table.getRowModel().rows.map((row) => ((0, jsx_runtime_1.jsx)(table_1.TableRow, { "data-state": row.getIsSelected() && "selected", children: row.getVisibleCells().map((cell) => ((0, jsx_runtime_1.jsx)(table_1.TableCell, { className: "[&:has([role=checkbox])]:pl-3", children: (0, react_table_1.flexRender)(cell.column.columnDef.cell, cell.getContext()) }, cell.id))) }, row.id)))) : ((0, jsx_runtime_1.jsx)(table_1.TableRow, { children: (0, jsx_runtime_1.jsx)(table_1.TableCell, { colSpan: exports.columns.length, className: "h-24 text-center", children: "No results." }) })) })] }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-end space-x-2 pt-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex-1 text-sm text-muted-foreground", children: [table.getFilteredSelectedRowModel().rows.length, " of", " ", table.getFilteredRowModel().rows.length, " row(s) selected."] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-x-2", children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", size: "sm", onClick: () => table.previousPage(), disabled: !table.getCanPreviousPage(), children: "Previous" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", size: "sm", onClick: () => table.nextPage(), disabled: !table.getCanNextPage(), children: "Next" })] })] })] })] }));
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS10YWJsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2RlbW8tY2FyZHMvZGF0YS10YWJsZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtJQUFBLFlBQVksQ0FBQzs7OztJQTBLYix3Q0EwSkM7SUF2UkQsTUFBTSxJQUFJLEdBQWM7UUFDdEI7WUFDRSxFQUFFLEVBQUUsVUFBVTtZQUNkLE1BQU0sRUFBRSxHQUFHO1lBQ1gsTUFBTSxFQUFFLFNBQVM7WUFDakIsS0FBSyxFQUFFLGlCQUFpQjtTQUN6QjtRQUNEO1lBQ0UsRUFBRSxFQUFFLFVBQVU7WUFDZCxNQUFNLEVBQUUsR0FBRztZQUNYLE1BQU0sRUFBRSxTQUFTO1lBQ2pCLEtBQUssRUFBRSxpQkFBaUI7U0FDekI7UUFDRDtZQUNFLEVBQUUsRUFBRSxVQUFVO1lBQ2QsTUFBTSxFQUFFLEdBQUc7WUFDWCxNQUFNLEVBQUUsWUFBWTtZQUNwQixLQUFLLEVBQUUsdUJBQXVCO1NBQy9CO1FBQ0Q7WUFDRSxFQUFFLEVBQUUsVUFBVTtZQUNkLE1BQU0sRUFBRSxHQUFHO1lBQ1gsTUFBTSxFQUFFLFFBQVE7WUFDaEIsS0FBSyxFQUFFLHNCQUFzQjtTQUM5QjtLQUNGLENBQUM7SUFTVyxRQUFBLE9BQU8sR0FBeUI7UUFDM0M7WUFDRSxFQUFFLEVBQUUsUUFBUTtZQUNaLE1BQU0sRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQ3JCLHVCQUFDLG1CQUFRLElBQ1AsT0FBTyxFQUNMLEtBQUssQ0FBQyx3QkFBd0IsRUFBRTtvQkFDaEMsQ0FBQyxLQUFLLENBQUMseUJBQXlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFFL0QsZUFBZSxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMseUJBQXlCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxnQkFD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LENBT0YsQ0FDYixDQUFDLElBYkcsR0FBRyxDQUFDLEVBQUUsQ0FjRixDQUNaLENBQUMsQ0FDSCxDQUFDLENBQUMsQ0FBQyxDQUNGLHVCQUFDLGdCQUFRLGNBQ1AsdUJBQUMsaUJBQVMsSUFDUixPQUFPLEVBQUUsZUFBTyxDQUFDLE1BQU0sRUFDdkIsU0FBUyxFQUFDLGtCQUFrQiw0QkFHbEIsR0FDSCxDQUNaLEdBQ1MsSUFDTixHQUNKLEVBQ04saUNBQUssU0FBUyxFQUFDLDhDQUE4QyxhQUMzRCxpQ0FBSyxTQUFTLEVBQUMsc0NBQXNDLGFBQ2xELEtBQUssQ0FBQywyQkFBMkIsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLFNBQUssR0FBRyxFQUN2RCxLQUFLLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSx5QkFDcEMsRUFDTixpQ0FBSyxTQUFTLEVBQUMsV0FBVyxhQUN4Qix1QkFBQyxlQUFNLElBQ0wsT0FBTyxFQUFDLFNBQVMsRUFDakIsSUFBSSxFQUFDLElBQUksRUFDVCxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxFQUNuQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEVBQUUseUJBRzlCLEVBQ1QsdUJBQUMsZUFBTSxJQUNMLE9BQU8sRUFBQyxTQUFTLEVBQ2pCLElBQUksRUFBQyxJQUFJLEVBQ1QsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsRUFDL0IsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxxQkFHMUIsSUFDTCxJQUNGLElBQ00sSUFDVCxDQUNSLENBQUM7SUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgQ29sdW1uRGVmLFxuICBDb2x1bW5GaWx0ZXJzU3RhdGUsXG4gIFNvcnRpbmdTdGF0ZSxcbiAgVmlzaWJpbGl0eVN0YXRlLFxuICBmbGV4UmVuZGVyLFxuICBnZXRDb3JlUm93TW9kZWwsXG4gIGdldEZpbHRlcmVkUm93TW9kZWwsXG4gIGdldFBhZ2luYXRpb25Sb3dNb2RlbCxcbiAgZ2V0U29ydGVkUm93TW9kZWwsXG4gIHVzZVJlYWN0VGFibGUsXG59IGZyb20gXCJAdGFuc3RhY2svcmVhY3QtdGFibGVcIjtcbmltcG9ydCB7IEFycm93VXBEb3duLCBDaGV2cm9uRG93biwgTW9yZUhvcml6b250YWwgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5cbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQge1xuICBDYXJkLFxuICBDYXJkQ29udGVudCxcbiAgQ2FyZERlc2NyaXB0aW9uLFxuICBDYXJkSGVhZGVyLFxuICBDYXJkVGl0bGUsXG59IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvY2FyZFwiO1xuaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NoZWNrYm94XCI7XG5pbXBvcnQge1xuICBEcm9wZG93bk1lbnUsXG4gIERyb3Bkb3duTWVudUNoZWNrYm94SXRlbSxcbiAgRHJvcGRvd25NZW51Q29udGVudCxcbiAgRHJvcGRvd25NZW51SXRlbSxcbiAgRHJvcGRvd25NZW51TGFiZWwsXG4gIERyb3Bkb3duTWVudVNlcGFyYXRvcixcbiAgRHJvcGRvd25NZW51VHJpZ2dlcixcbn0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9kcm9wZG93bi1tZW51XCI7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5wdXRcIjtcbmltcG9ydCB7XG4gIFRhYmxlLFxuICBUYWJsZUJvZHksXG4gIFRhYmxlQ2VsbCxcbiAgVGFibGVIZWFkLFxuICBUYWJsZUhlYWRlcixcbiAgVGFibGVSb3csXG59IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdGFibGVcIjtcblxuY29uc3QgZGF0YTogUGF5bWVudFtdID0gW1xuICB7XG4gICAgaWQ6IFwibTVncjg0aTlcIixcbiAgICBhbW91bnQ6IDMxNixcbiAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgIGVtYWlsOiBcImtlbjk5QHlhaG9vLmNvbVwiLFxuICB9LFxuICB7XG4gICAgaWQ6IFwiM3UxcmV1djRcIixcbiAgICBhbW91bnQ6IDI0MixcbiAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgIGVtYWlsOiBcIkFiZTQ1QGdtYWlsLmNvbVwiLFxuICB9LFxuICB7XG4gICAgaWQ6IFwiZGVydjF3czBcIixcbiAgICBhbW91bnQ6IDgzNyxcbiAgICBzdGF0dXM6IFwicHJvY2Vzc2luZ1wiLFxuICAgIGVtYWlsOiBcIk1vbnNlcnJhdDQ0QGdtYWlsLmNvbVwiLFxuICB9LFxuICB7XG4gICAgaWQ6IFwiYmhxZWNqNHBcIixcbiAgICBhbW91bnQ6IDcyMSxcbiAgICBzdGF0dXM6IFwiZmFpbGVkXCIsXG4gICAgZW1haWw6IFwiY2FybWVsbGFAaG90bWFpbC5jb21cIixcbiAgfSxcbl07XG5cbmV4cG9ydCB0eXBlIFBheW1lbnQgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGFtb3VudDogbnVtYmVyO1xuICBzdGF0dXM6IFwicGVuZGluZ1wiIHwgXCJwcm9jZXNzaW5nXCIgfCBcInN1Y2Nlc3NcIiB8IFwiZmFpbGVkXCI7XG4gIGVtYWlsOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgY29sdW1uczogQ29sdW1uRGVmPFBheW1lbnQ+W10gPSBbXG4gIHtcbiAgICBpZDogXCJzZWxlY3RcIixcbiAgICBoZWFkZXI6ICh7IHRhYmxlIH0pID0+IChcbiAgICAgIDxDaGVja2JveFxuICAgICAgICBjaGVja2VkPXtcbiAgICAgICAgICB0YWJsZS5nZXRJc0FsbFBhZ2VSb3dzU2VsZWN0ZWQoKSB8fFxuICAgICAgICAgICh0YWJsZS5nZXRJc1NvbWVQYWdlUm93c1NlbGVjdGVkKCkgPyBcImluZGV0ZXJtaW5hdGVcIiA6IGZhbHNlKVxuICAgICAgICB9XG4gICAgICAgIG9uQ2hlY2tlZENoYW5nZT17KHZhbHVlKSA9PiB0YWJsZS50b2dnbGVBbGxQYWdlUm93c1NlbGVjdGVkKCEhdmFsdWUpfVxuICAgICAgICBhcmlhLWxhYmVsPVwiU2VsZWN0IGFsbFwiXG4gICAgICAvPlxuICAgICksXG4gICAgY2VsbDogKHsgcm93IH0pID0+IChcbiAgICAgIDxDaGVja2JveFxuICAgICAgICBjaGVja2VkPXtyb3cuZ2V0SXNTZWxlY3RlZCgpfVxuICAgICAgICBvbkNoZWNrZWRDaGFuZ2U9eyh2YWx1ZSkgPT4gcm93LnRvZ2dsZVNlbGVjdGVkKCEhdmFsdWUpfVxuICAgICAgICBhcmlhLWxhYmVsPVwiU2VsZWN0IHJvd1wiXG4gICAgICAvPlxuICAgICksXG4gICAgZW5hYmxlU29ydGluZzogZmFsc2UsXG4gICAgZW5hYmxlSGlkaW5nOiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIGFjY2Vzc29yS2V5OiBcInN0YXR1c1wiLFxuICAgIGhlYWRlcjogXCJTdGF0dXNcIixcbiAgICBjZWxsOiAoeyByb3cgfSkgPT4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXBpdGFsaXplXCI+e3Jvdy5nZXRWYWx1ZShcInN0YXR1c1wiKX08L2Rpdj5cbiAgICApLFxuICB9LFxuICB7XG4gICAgYWNjZXNzb3JLZXk6IFwiZW1haWxcIixcbiAgICBoZWFkZXI6ICh7IGNvbHVtbiB9KSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBjb2x1bW4udG9nZ2xlU29ydGluZyhjb2x1bW4uZ2V0SXNTb3J0ZWQoKSA9PT0gXCJhc2NcIil9XG4gICAgICAgID5cbiAgICAgICAgICBFbWFpbFxuICAgICAgICAgIDxBcnJvd1VwRG93biAvPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICk7XG4gICAgfSxcbiAgICBjZWxsOiAoeyByb3cgfSkgPT4gPGRpdiBjbGFzc05hbWU9XCJsb3dlcmNhc2VcIj57cm93LmdldFZhbHVlKFwiZW1haWxcIil9PC9kaXY+LFxuICB9LFxuICB7XG4gICAgYWNjZXNzb3JLZXk6IFwiYW1vdW50XCIsXG4gICAgaGVhZGVyOiAoKSA9PiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj5BbW91bnQ8L2Rpdj4sXG4gICAgY2VsbDogKHsgcm93IH0pID0+IHtcbiAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQocm93LmdldFZhbHVlKFwiYW1vdW50XCIpKTtcblxuICAgICAgLy8gRm9ybWF0IHRoZSBhbW91bnQgYXMgYSBkb2xsYXIgYW1vdW50XG4gICAgICBjb25zdCBmb3JtYXR0ZWQgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoXCJlbi1VU1wiLCB7XG4gICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgIGN1cnJlbmN5OiBcIlVTRFwiLFxuICAgICAgfSkuZm9ybWF0KGFtb3VudCk7XG5cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmlnaHQgZm9udC1tZWRpdW1cIj57Zm9ybWF0dGVkfTwvZGl2PjtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgaWQ6IFwiYWN0aW9uc1wiLFxuICAgIGVuYWJsZUhpZGluZzogZmFsc2UsXG4gICAgY2VsbDogKHsgcm93IH0pID0+IHtcbiAgICAgIGNvbnN0IHBheW1lbnQgPSByb3cub3JpZ2luYWw7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxEcm9wZG93bk1lbnU+XG4gICAgICAgICAgPERyb3Bkb3duTWVudVRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgY2xhc3NOYW1lPVwiaC04IHctOCBwLTBcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPk9wZW4gbWVudTwvc3Bhbj5cbiAgICAgICAgICAgICAgPE1vcmVIb3Jpem9udGFsIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+XG4gICAgICAgICAgPERyb3Bkb3duTWVudUNvbnRlbnQgYWxpZ249XCJlbmRcIj5cbiAgICAgICAgICAgIDxEcm9wZG93bk1lbnVMYWJlbD5BY3Rpb25zPC9Ecm9wZG93bk1lbnVMYWJlbD5cbiAgICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHBheW1lbnQuaWQpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBDb3B5IHBheW1lbnQgSURcbiAgICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgICAgIDxEcm9wZG93bk1lbnVTZXBhcmF0b3IgLz5cbiAgICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtPlZpZXcgY3VzdG9tZXI8L0Ryb3Bkb3duTWVudUl0ZW0+XG4gICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbT5WaWV3IHBheW1lbnQgZGV0YWlsczwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudUNvbnRlbnQ+XG4gICAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgICAgKTtcbiAgICB9LFxuICB9LFxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIENhcmRzRGF0YVRhYmxlKCkge1xuICBjb25zdCBbc29ydGluZywgc2V0U29ydGluZ10gPSBSZWFjdC51c2VTdGF0ZTxTb3J0aW5nU3RhdGU+KFtdKTtcbiAgY29uc3QgW2NvbHVtbkZpbHRlcnMsIHNldENvbHVtbkZpbHRlcnNdID0gUmVhY3QudXNlU3RhdGU8Q29sdW1uRmlsdGVyc1N0YXRlPihcbiAgICBbXSxcbiAgKTtcbiAgY29uc3QgW2NvbHVtblZpc2liaWxpdHksIHNldENvbHVtblZpc2liaWxpdHldID1cbiAgICBSZWFjdC51c2VTdGF0ZTxWaXNpYmlsaXR5U3RhdGU+KHt9KTtcbiAgY29uc3QgW3Jvd1NlbGVjdGlvbiwgc2V0Um93U2VsZWN0aW9uXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcblxuICBjb25zdCB0YWJsZSA9IHVzZVJlYWN0VGFibGUoe1xuICAgIGRhdGEsXG4gICAgY29sdW1ucyxcbiAgICBvblNvcnRpbmdDaGFuZ2U6IHNldFNvcnRpbmcsXG4gICAgb25Db2x1bW5GaWx0ZXJzQ2hhbmdlOiBzZXRDb2x1bW5GaWx0ZXJzLFxuICAgIGdldENvcmVSb3dNb2RlbDogZ2V0Q29yZVJvd01vZGVsKCksXG4gICAgZ2V0UGFnaW5hdGlvblJvd01vZGVsOiBnZXRQYWdpbmF0aW9uUm93TW9kZWwoKSxcbiAgICBnZXRTb3J0ZWRSb3dNb2RlbDogZ2V0U29ydGVkUm93TW9kZWwoKSxcbiAgICBnZXRGaWx0ZXJlZFJvd01vZGVsOiBnZXRGaWx0ZXJlZFJvd01vZGVsKCksXG4gICAgb25Db2x1bW5WaXNpYmlsaXR5Q2hhbmdlOiBzZXRDb2x1bW5WaXNpYmlsaXR5LFxuICAgIG9uUm93U2VsZWN0aW9uQ2hhbmdlOiBzZXRSb3dTZWxlY3Rpb24sXG4gICAgc3RhdGU6IHtcbiAgICAgIHNvcnRpbmcsXG4gICAgICBjb2x1bW5GaWx0ZXJzLFxuICAgICAgY29sdW1uVmlzaWJpbGl0eSxcbiAgICAgIHJvd1NlbGVjdGlvbixcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxDYXJkPlxuICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwidGV4dC14bFwiPlBheW1lbnRzPC9DYXJkVGl0bGU+XG4gICAgICAgIDxDYXJkRGVzY3JpcHRpb24+TWFuYWdlIHlvdXIgcGF5bWVudHMuPC9DYXJkRGVzY3JpcHRpb24+XG4gICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJGaWx0ZXIgZW1haWxzLi4uXCJcbiAgICAgICAgICAgIHZhbHVlPXsodGFibGUuZ2V0Q29sdW1uKFwiZW1haWxcIik/LmdldEZpbHRlclZhbHVlKCkgYXMgc3RyaW5nKSA/PyBcIlwifVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT5cbiAgICAgICAgICAgICAgdGFibGUuZ2V0Q29sdW1uKFwiZW1haWxcIik/LnNldEZpbHRlclZhbHVlKGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1heC13LXNtXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxEcm9wZG93bk1lbnU+XG4gICAgICAgICAgICA8RHJvcGRvd25NZW51VHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCIgY2xhc3NOYW1lPVwibWwtYXV0b1wiPlxuICAgICAgICAgICAgICAgIENvbHVtbnMgPENoZXZyb25Eb3duIC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVUcmlnZ2VyPlxuICAgICAgICAgICAgPERyb3Bkb3duTWVudUNvbnRlbnQgYWxpZ249XCJlbmRcIj5cbiAgICAgICAgICAgICAge3RhYmxlXG4gICAgICAgICAgICAgICAgLmdldEFsbENvbHVtbnMoKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGNvbHVtbikgPT4gY29sdW1uLmdldENhbkhpZGUoKSlcbiAgICAgICAgICAgICAgICAubWFwKChjb2x1bW4pID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVDaGVja2JveEl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbHVtbi5pZH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYXBpdGFsaXplXCJcbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjb2x1bW4uZ2V0SXNWaXNpYmxlKCl9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPXsodmFsdWUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4udG9nZ2xlVmlzaWJpbGl0eSghIXZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtjb2x1bW4uaWR9XG4gICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51Q2hlY2tib3hJdGVtPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvRHJvcGRvd25NZW51Q29udGVudD5cbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXJcIj5cbiAgICAgICAgICA8VGFibGU+XG4gICAgICAgICAgICA8VGFibGVIZWFkZXI+XG4gICAgICAgICAgICAgIHt0YWJsZS5nZXRIZWFkZXJHcm91cHMoKS5tYXAoKGhlYWRlckdyb3VwKSA9PiAoXG4gICAgICAgICAgICAgICAgPFRhYmxlUm93IGtleT17aGVhZGVyR3JvdXAuaWR9PlxuICAgICAgICAgICAgICAgICAge2hlYWRlckdyb3VwLmhlYWRlcnMubWFwKChoZWFkZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8VGFibGVIZWFkXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2hlYWRlci5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIlsmOmhhcyhbcm9sZT1jaGVja2JveF0pXTpwbC0zXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aGVhZGVyLmlzUGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZmxleFJlbmRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlci5jb2x1bW4uY29sdW1uRGVmLmhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlci5nZXRDb250ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlSGVhZD5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvVGFibGVSb3c+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9UYWJsZUhlYWRlcj5cbiAgICAgICAgICAgIDxUYWJsZUJvZHk+XG4gICAgICAgICAgICAgIHt0YWJsZS5nZXRSb3dNb2RlbCgpLnJvd3M/Lmxlbmd0aCA/IChcbiAgICAgICAgICAgICAgICB0YWJsZS5nZXRSb3dNb2RlbCgpLnJvd3MubWFwKChyb3cpID0+IChcbiAgICAgICAgICAgICAgICAgIDxUYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICBrZXk9e3Jvdy5pZH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS1zdGF0ZT17cm93LmdldElzU2VsZWN0ZWQoKSAmJiBcInNlbGVjdGVkXCJ9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtyb3cuZ2V0VmlzaWJsZUNlbGxzKCkubWFwKChjZWxsKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjZWxsLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiWyY6aGFzKFtyb2xlPWNoZWNrYm94XSldOnBsLTNcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmbGV4UmVuZGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNvbHVtbi5jb2x1bW5EZWYuY2VsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5nZXRDb250ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVDZWxsPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvVGFibGVSb3c+XG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8VGFibGVSb3c+XG4gICAgICAgICAgICAgICAgICA8VGFibGVDZWxsXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW49e2NvbHVtbnMubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTI0IHRleHQtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgTm8gcmVzdWx0cy5cbiAgICAgICAgICAgICAgICAgIDwvVGFibGVDZWxsPlxuICAgICAgICAgICAgICAgIDwvVGFibGVSb3c+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L1RhYmxlQm9keT5cbiAgICAgICAgICA8L1RhYmxlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBzcGFjZS14LTIgcHQtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICB7dGFibGUuZ2V0RmlsdGVyZWRTZWxlY3RlZFJvd01vZGVsKCkucm93cy5sZW5ndGh9IG9me1wiIFwifVxuICAgICAgICAgICAge3RhYmxlLmdldEZpbHRlcmVkUm93TW9kZWwoKS5yb3dzLmxlbmd0aH0gcm93KHMpIHNlbGVjdGVkLlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteC0yXCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGFibGUucHJldmlvdXNQYWdlKCl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshdGFibGUuZ2V0Q2FuUHJldmlvdXNQYWdlKCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFByZXZpb3VzXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0YWJsZS5uZXh0UGFnZSgpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17IXRhYmxlLmdldENhbk5leHRQYWdlKCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIE5leHRcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgPC9DYXJkPlxuICApO1xufVxuIl19