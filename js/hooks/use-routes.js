define(["require", "exports", "react", "wouter"], function (require, exports, react_1, wouter_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.useRoutes = useRoutes;
    function useRoutes(routes) {
        const [initialRoutes] = (0, react_1.useState)(routes);
        const [matched, setMatched] = (0, react_1.useState)([null, {}]);
        if (routes.some((route, index) => route !== initialRoutes[index])) {
            throw new Error("Route table cannot be changed after initialization.");
        }
        let found = false;
        // The same number of hooks should be called on each render, don't exit early
        for (const route of routes) {
            const [match, params] = (0, wouter_1.useRoute)(route);
            if (match && !found) {
                found = true;
                if (matched[0] !== route ||
                    Object.keys(params).length !== Object.keys(matched[1]).length ||
                    // @ts-expect-error Object.keys() does not infer key types
                    Object.keys(params).some((k) => params[k] !== matched[1][k])) {
                    setMatched([route, params]);
                }
            }
        }
        // If no route matched, reset the matched route
        if (!found && matched[0]) {
            setMatched([null, {}]);
        }
        return matched;
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJvdXRlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ob29rcy91c2Utcm91dGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztJQXNCQSw4QkFvQ0M7SUFwQ0QsU0FBZ0IsU0FBUyxDQUN2QixNQUF1QjtRQUV2QixNQUFNLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUNwQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FDWCxDQUFDO1FBRUYsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDbEUsTUFBTSxJQUFJLEtBQUssQ0FBQyxxREFBcUQsQ0FBQyxDQUFDO1FBQ3pFLENBQUM7UUFFRCxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbEIsNkVBQTZFO1FBQzdFLEtBQUssTUFBTSxLQUFLLElBQUksTUFBTSxFQUFFLENBQUM7WUFDM0IsTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRyxJQUFBLGlCQUFRLEVBQTJCLEtBQUssQ0FBQyxDQUFDO1lBQ2xFLElBQUksS0FBSyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ3BCLEtBQUssR0FBRyxJQUFJLENBQUM7Z0JBQ2IsSUFDRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSztvQkFDcEIsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNO29CQUM3RCwwREFBMEQ7b0JBQzFELE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQzVELENBQUM7b0JBQ0QsVUFBVSxDQUFDLENBQUMsS0FBSyxFQUFFLE1BQTJCLENBQUMsQ0FBQyxDQUFDO2dCQUNuRCxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFFRCwrQ0FBK0M7UUFDL0MsSUFBSSxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUN6QixVQUFVLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN6QixDQUFDO1FBRUQsT0FBTyxPQUFPLENBQUM7SUFDakIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gXCJ3b3V0ZXJcIjtcblxuLy8gSW5mZXIgcm91dGUgcGFyYW1ldGVycyBmcm9tIHJvdXRlIHBhdHRlcm5cbnR5cGUgRXh0cmFjdFBhcmFtczxUIGV4dGVuZHMgc3RyaW5nPiA9XG4gIFQgZXh0ZW5kcyBgJHtzdHJpbmd9OiR7aW5mZXIgUGFyYW19LyR7aW5mZXIgUmVzdH1gXG4gICAgPyB7IFtLIGluIFBhcmFtIHwga2V5b2YgRXh0cmFjdFBhcmFtczxgLyR7UmVzdH1gPl06IHN0cmluZyB9XG4gICAgOiBUIGV4dGVuZHMgYCR7c3RyaW5nfToke2luZmVyIFBhcmFtfWBcbiAgICAgID8geyBbSyBpbiBQYXJhbV06IHN0cmluZyB9XG4gICAgICA6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG4gICAgICAgIHt9O1xuXG50eXBlIFRvSW50ZXJzZWN0aW9uPFU+ID0gKFxuICBVIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgc3RyaW5nPiA/IChrOiBVKSA9PiB2b2lkIDogbmV2ZXJcbikgZXh0ZW5kcyAoazogaW5mZXIgSSkgPT4gdm9pZFxuICA/IElcbiAgOiBuZXZlcjtcblxudHlwZSBPcHRpb25hbFBhcmFtczxSIGV4dGVuZHMgcmVhZG9ubHkgc3RyaW5nW10+ID0gUGFydGlhbDxcbiAgVG9JbnRlcnNlY3Rpb248RXh0cmFjdFBhcmFtczxSW251bWJlcl0+PlxuPjtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJvdXRlczxUIGV4dGVuZHMgc3RyaW5nLCBSIGV4dGVuZHMgcmVhZG9ubHkgVFtdPihcbiAgcm91dGVzOiByZWFkb25seSBbLi4uUl0sXG4pIHtcbiAgY29uc3QgW2luaXRpYWxSb3V0ZXNdID0gdXNlU3RhdGUocm91dGVzKTtcbiAgY29uc3QgW21hdGNoZWQsIHNldE1hdGNoZWRdID0gdXNlU3RhdGU8W1JbbnVtYmVyXSB8IG51bGwsIE9wdGlvbmFsUGFyYW1zPFI+XT4oXG4gICAgW251bGwsIHt9XSxcbiAgKTtcblxuICBpZiAocm91dGVzLnNvbWUoKHJvdXRlLCBpbmRleCkgPT4gcm91dGUgIT09IGluaXRpYWxSb3V0ZXNbaW5kZXhdKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlJvdXRlIHRhYmxlIGNhbm5vdCBiZSBjaGFuZ2VkIGFmdGVyIGluaXRpYWxpemF0aW9uLlwiKTtcbiAgfVxuXG4gIGxldCBmb3VuZCA9IGZhbHNlO1xuXG4gIC8vIFRoZSBzYW1lIG51bWJlciBvZiBob29rcyBzaG91bGQgYmUgY2FsbGVkIG9uIGVhY2ggcmVuZGVyLCBkb24ndCBleGl0IGVhcmx5XG4gIGZvciAoY29uc3Qgcm91dGUgb2Ygcm91dGVzKSB7XG4gICAgY29uc3QgW21hdGNoLCBwYXJhbXNdID0gdXNlUm91dGU8RXh0cmFjdFBhcmFtczxSW251bWJlcl0+Pihyb3V0ZSk7XG4gICAgaWYgKG1hdGNoICYmICFmb3VuZCkge1xuICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgaWYgKFxuICAgICAgICBtYXRjaGVkWzBdICE9PSByb3V0ZSB8fFxuICAgICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMobWF0Y2hlZFsxXSkubGVuZ3RoIHx8XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgT2JqZWN0LmtleXMoKSBkb2VzIG5vdCBpbmZlciBrZXkgdHlwZXNcbiAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zKS5zb21lKChrKSA9PiBwYXJhbXNba10gIT09IG1hdGNoZWRbMV1ba10pXG4gICAgICApIHtcbiAgICAgICAgc2V0TWF0Y2hlZChbcm91dGUsIHBhcmFtcyBhcyBPcHRpb25hbFBhcmFtczxSPl0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIElmIG5vIHJvdXRlIG1hdGNoZWQsIHJlc2V0IHRoZSBtYXRjaGVkIHJvdXRlXG4gIGlmICghZm91bmQgJiYgbWF0Y2hlZFswXSkge1xuICAgIHNldE1hdGNoZWQoW251bGwsIHt9XSk7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlZDtcbn1cbiJdfQ==