define(["require", "exports", "react/jsx-runtime", "react", "react-day-picker", "../../lib/utils", "./button", "./scroll-area", "./select"], function (require, exports, jsx_runtime_1, React, react_day_picker_1, utils_1, button_1, scroll_area_1, select_1) {
    "use client";
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.NO_BORDER = void 0;
    exports.Calendar = Calendar;
    exports.NO_BORDER = "ring-0 focus:ring-0 focus-visible:ring-0 shadow-none focus:shadow-none focus-visible:shadow-none outline-none focus:outline-none focus-visible:outline-none border-none focus:border-none focus-visible:border-none";
    // Updated for react-day-picker v9 and mobile sizing
    function Calendar({ numberOfMonths = 1, showOutsideDays = true, compact = false, captionLayout = "dropdown", className = "w-fit", classNames, ...props }) {
        // Custom components for prev/next and date dropdowns
        const components = React.useMemo(() => {
            const pnc = compact
                ? "focus:underline focus:underline-offset-2 -mx-0.5 sm:mx-0"
                : "focus:underline focus:underline-offset-2 mx-0";
            const customComponents = {
                PreviousMonthButton: ({ tabIndex, className, ...props }) => ((0, jsx_runtime_1.jsx)(react_day_picker_1.PreviousMonthButton, { tabIndex: 0, className: (0, utils_1.cn)(className, pnc), ...props })),
                NextMonthButton: ({ tabIndex, className, ...props }) => ((0, jsx_runtime_1.jsx)(react_day_picker_1.NextMonthButton, { tabIndex: 0, className: (0, utils_1.cn)(className, pnc), ...props })),
                Dropdown: ({ value, options, onChange }) => {
                    const selected = options === null || options === void 0 ? void 0 : options.find((option) => option.value === value);
                    const handleChange = (value) => onChange === null || onChange === void 0 ? void 0 : onChange({ target: { value } });
                    return ((0, jsx_runtime_1.jsxs)(select_1.Select, { value: value === null || value === void 0 ? void 0 : value.toString(), onValueChange: handleChange, children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { tabIndex: 0, className: (0, utils_1.cn)(exports.NO_BORDER, compact
                                    ? "-mr-2.5 sm:-mr-2.5 [&>svg]:-ml-[1px]"
                                    : "-mr-2.5 text-md", "focus:underline focus:underline-offset-2 h-7 pr-0 [&>svg]:opacity-15"), children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { children: selected === null || selected === void 0 ? void 0 : selected.label }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { position: "popper", children: (0, jsx_runtime_1.jsx)(scroll_area_1.ScrollArea, { className: "h-56", children: options === null || options === void 0 ? void 0 : options.map(({ value: v, label }, i) => {
                                        var _a;
                                        return ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: (_a = v === null || v === void 0 ? void 0 : v.toString()) !== null && _a !== void 0 ? _a : "", children: label }, `${v}-${i}`));
                                    }) }) })] }));
                },
            };
            return props.components
                ? {
                    ...customComponents,
                    ...props.components,
                }
                : customComponents;
        }, [compact, props.components]);
        const prevNextButtonSize = compact ? "h-5 w-5" : "h-6 w-6";
        return ((0, jsx_runtime_1.jsx)(react_day_picker_1.DayPicker, { mode: props.mode || "single", captionLayout: captionLayout, numberOfMonths: numberOfMonths, showOutsideDays: showOutsideDays, components: components, className: className, classNames: {
                months: "flex gap-4 relative",
                month_grid: compact ? undefined : "mt-2",
                month_caption: (0, utils_1.cn)("flex relative items-center font-medium", compact ? "text-sm mt-1" : "text-md mt-0.5", captionLayout === "label" ? "ml-1 mb-2" : "-ml-2 mb-1 mt-0"),
                dropdowns: "flex",
                years_dropdown: "after:none",
                nav: "absolute right-0 z-50 flex items-center h-7",
                button_previous: (0, utils_1.cn)(exports.NO_BORDER, prevNextButtonSize, "group"),
                button_next: (0, utils_1.cn)(exports.NO_BORDER, prevNextButtonSize, "group"),
                chevron: (0, utils_1.cn)("border-b border-transparent group-focus:border-current", prevNextButtonSize),
                weeks: "w-full border-collapse space-y-1",
                week: "flex w-full mt-2",
                weekdays: "flex",
                weekday: (0, utils_1.cn)("text-muted-foreground rounded-md font-normal", compact ? "w-6 sm:w-7 text-xs sm:text-sm" : "w-8 text-sm"),
                day: (0, utils_1.cn)("relative p-0 focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].outside)]:bg-accent/50", props.mode === "range"
                    ? "[&.range-end]:rounded-r-md [&.range-start]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md"
                    : "rounded-md"),
                day_button: (0, utils_1.cn)((0, button_1.buttonVariants)({ variant: "ghost" }), "[&:hover]:bg-transparent [&:hover]:text-inherit", // Disable the ghost button hover
                compact
                    ? "h-6 w-6 sm:h-7 sm:w-7 p-0 text-xs sm:text-sm"
                    : "h-8 w-8 p-0.5 text-sm", "text-center font-normal"),
                range_start: "range-start",
                range_end: "range-end",
                selected: "bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",
                today: "bg-accent text-accent-foreground",
                outside: "outside text-muted-foreground opacity-50  aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",
                disabled: "text-muted-foreground opacity-50",
                range_middle: "aria-selected:bg-accent aria-selected:text-accent-foreground",
                hidden: "invisible",
                ...classNames,
            }, ...props }));
    }
    Calendar.displayName = "Calendar";
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsZW5kYXItdjkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy91aS9jYWxlbmRhci12OS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtJQUFBLFlBQVksQ0FBQzs7OztJQWlLSiw0QkFBUTtJQXBJSixRQUFBLFNBQVMsR0FDcEIscU5BQXFOLENBQUM7SUFFeE4sb0RBQW9EO0lBQ3BELFNBQVMsUUFBUSxDQUFDLEVBQ2hCLGNBQWMsR0FBRyxDQUFDLEVBQ2xCLGVBQWUsR0FBRyxJQUFJLEVBQ3RCLE9BQU8sR0FBRyxLQUFLLEVBQ2YsYUFBYSxHQUFHLFVBQVUsRUFDMUIsU0FBUyxHQUFHLE9BQU8sRUFDbkIsVUFBVSxFQUNWLEdBQUcsS0FBSyxFQUNNO1FBQ2QscURBQXFEO1FBQ3JELE1BQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO1lBQ3BDLE1BQU0sR0FBRyxHQUFHLE9BQU87Z0JBQ2pCLENBQUMsQ0FBQywwREFBMEQ7Z0JBQzVELENBQUMsQ0FBQywrQ0FBK0MsQ0FBQztZQUVwRCxNQUFNLGdCQUFnQixHQUFHO2dCQUN2QixtQkFBbUIsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxHQUFHLEtBQUssRUFBVyxFQUFFLEVBQUUsQ0FBQyxDQUNuRSx1QkFBQyxzQ0FBTyxJQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLElBQUEsVUFBRSxFQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsS0FBTSxLQUFLLEdBQUksQ0FDbkU7Z0JBQ0QsZUFBZSxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLEdBQUcsS0FBSyxFQUFXLEVBQUUsRUFBRSxDQUFDLENBQy9ELHVCQUFDLGtDQUFPLElBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsSUFBQSxVQUFFLEVBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxLQUFNLEtBQUssR0FB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SUFDRCxRQUFRLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIFByZXZpb3VzTW9udGhCdXR0b24gYXMgQnRuUHJldixcbiAgUHJldmlvdXNNb250aEJ1dHRvblByb3BzIGFzIFBycFByZXYsXG4gIE5leHRNb250aEJ1dHRvbiBhcyBCdG5OZXh0LFxuICBOZXh0TW9udGhCdXR0b25Qcm9wcyBhcyBQcnBOZXh0LFxuICBEYXRlUmFuZ2UgYXMgSW5uZXJEYXRlUmFuZ2UsXG4gIERheVBpY2tlcixcbiAgRHJvcGRvd25Qcm9wcyxcbn0gZnJvbSBcInJlYWN0LWRheS1waWNrZXJcIjtcblxuaW1wb3J0IHsgY24gfSBmcm9tIFwiLi4vLi4vbGliL3V0aWxzXCI7XG5pbXBvcnQgeyBidXR0b25WYXJpYW50cyB9IGZyb20gXCIuL2J1dHRvblwiO1xuaW1wb3J0IHsgU2Nyb2xsQXJlYSB9IGZyb20gXCIuL3Njcm9sbC1hcmVhXCI7XG5pbXBvcnQge1xuICBTZWxlY3QsXG4gIFNlbGVjdENvbnRlbnQsXG4gIFNlbGVjdEl0ZW0sXG4gIFNlbGVjdFRyaWdnZXIsXG4gIFNlbGVjdFZhbHVlLFxufSBmcm9tIFwiLi9zZWxlY3RcIjtcblxuZXhwb3J0IHR5cGUgRGF0ZVJhbmdlID0gSW5uZXJEYXRlUmFuZ2U7XG5leHBvcnQgdHlwZSBDYWxlbmRhclByb3BzID0gUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIERheVBpY2tlcj4gJiB7XG4gIGNvbXBhY3Q/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IGNvbnN0IE5PX0JPUkRFUiA9XG4gIFwicmluZy0wIGZvY3VzOnJpbmctMCBmb2N1cy12aXNpYmxlOnJpbmctMCBzaGFkb3ctbm9uZSBmb2N1czpzaGFkb3ctbm9uZSBmb2N1cy12aXNpYmxlOnNoYWRvdy1ub25lIG91dGxpbmUtbm9uZSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgYm9yZGVyLW5vbmUgZm9jdXM6Ym9yZGVyLW5vbmUgZm9jdXMtdmlzaWJsZTpib3JkZXItbm9uZVwiO1xuXG4vLyBVcGRhdGVkIGZvciByZWFjdC1kYXktcGlja2VyIHY5IGFuZCBtb2JpbGUgc2l6aW5nXG5mdW5jdGlvbiBDYWxlbmRhcih7XG4gIG51bWJlck9mTW9udGhzID0gMSxcbiAgc2hvd091dHNpZGVEYXlzID0gdHJ1ZSxcbiAgY29tcGFjdCA9IGZhbHNlLFxuICBjYXB0aW9uTGF5b3V0ID0gXCJkcm9wZG93blwiLFxuICBjbGFzc05hbWUgPSBcInctZml0XCIsXG4gIGNsYXNzTmFtZXMsXG4gIC4uLnByb3BzXG59OiBDYWxlbmRhclByb3BzKSB7XG4gIC8vIEN1c3RvbSBjb21wb25lbnRzIGZvciBwcmV2L25leHQgYW5kIGRhdGUgZHJvcGRvd25zXG4gIGNvbnN0IGNvbXBvbmVudHMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBwbmMgPSBjb21wYWN0XG4gICAgICA/IFwiZm9jdXM6dW5kZXJsaW5lIGZvY3VzOnVuZGVybGluZS1vZmZzZXQtMiAtbXgtMC41IHNtOm14LTBcIlxuICAgICAgOiBcImZvY3VzOnVuZGVybGluZSBmb2N1czp1bmRlcmxpbmUtb2Zmc2V0LTIgbXgtMFwiO1xuXG4gICAgY29uc3QgY3VzdG9tQ29tcG9uZW50cyA9IHtcbiAgICAgIFByZXZpb3VzTW9udGhCdXR0b246ICh7IHRhYkluZGV4LCBjbGFzc05hbWUsIC4uLnByb3BzIH06IFBycFByZXYpID0+IChcbiAgICAgICAgPEJ0blByZXYgdGFiSW5kZXg9ezB9IGNsYXNzTmFtZT17Y24oY2xhc3NOYW1lLCBwbmMpfSB7Li4ucHJvcHN9IC8+XG4gICAgICApLFxuICAgICAgTmV4dE1vbnRoQnV0dG9uOiAoeyB0YWJJbmRleCwgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBQcnBOZXh0KSA9PiAoXG4gICAgICAgIDxCdG5OZXh0IHRhYkluZGV4PXswfSBjbGFzc05hbWU9e2NuKGNsYXNzTmFtZSwgcG5jKX0gey4uLnByb3BzfSAvPlxuICAgICAgKSxcbiAgICAgIERyb3Bkb3duOiAoeyB2YWx1ZSwgb3B0aW9ucywgb25DaGFuZ2UgfTogRHJvcGRvd25Qcm9wcykgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IG9wdGlvbnM/LmZpbmQoKG9wdGlvbikgPT4gb3B0aW9uLnZhbHVlID09PSB2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9ICh2YWx1ZTogc3RyaW5nKSA9PlxuICAgICAgICAgIG9uQ2hhbmdlPy4oeyB0YXJnZXQ6IHsgdmFsdWUgfSB9IGFzIGFueSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFNlbGVjdCB2YWx1ZT17dmFsdWU/LnRvU3RyaW5nKCl9IG9uVmFsdWVDaGFuZ2U9e2hhbmRsZUNoYW5nZX0+XG4gICAgICAgICAgICA8U2VsZWN0VHJpZ2dlclxuICAgICAgICAgICAgICB0YWJJbmRleD17MH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICBOT19CT1JERVIsXG4gICAgICAgICAgICAgICAgY29tcGFjdFxuICAgICAgICAgICAgICAgICAgPyBcIi1tci0yLjUgc206LW1yLTIuNSBbJj5zdmddOi1tbC1bMXB4XVwiXG4gICAgICAgICAgICAgICAgICA6IFwiLW1yLTIuNSB0ZXh0LW1kXCIsXG4gICAgICAgICAgICAgICAgXCJmb2N1czp1bmRlcmxpbmUgZm9jdXM6dW5kZXJsaW5lLW9mZnNldC0yIGgtNyBwci0wIFsmPnN2Z106b3BhY2l0eS0xNVwiLFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U2VsZWN0VmFsdWU+e3NlbGVjdGVkPy5sYWJlbH08L1NlbGVjdFZhbHVlPlxuICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQgcG9zaXRpb249XCJwb3BwZXJcIj5cbiAgICAgICAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPVwiaC01NlwiPlxuICAgICAgICAgICAgICAgIHtvcHRpb25zPy5tYXAoKHsgdmFsdWU6IHYsIGxhYmVsIH0sIGk6IG51bWJlcikgPT4gKFxuICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtgJHt2fS0ke2l9YH0gdmFsdWU9e3Y/LnRvU3RyaW5nKCkgPz8gXCJcIn0+XG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9TY3JvbGxBcmVhPlxuICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBwcm9wcy5jb21wb25lbnRzXG4gICAgICA/IHtcbiAgICAgICAgICAuLi5jdXN0b21Db21wb25lbnRzLFxuICAgICAgICAgIC4uLnByb3BzLmNvbXBvbmVudHMsXG4gICAgICAgIH1cbiAgICAgIDogY3VzdG9tQ29tcG9uZW50cztcbiAgfSwgW2NvbXBhY3QsIHByb3BzLmNvbXBvbmVudHNdKTtcblxuICBjb25zdCBwcmV2TmV4dEJ1dHRvblNpemUgPSBjb21wYWN0ID8gXCJoLTUgdy01XCIgOiBcImgtNiB3LTZcIjtcblxuICByZXR1cm4gKFxuICAgIDxEYXlQaWNrZXJcbiAgICAgIG1vZGU9e3Byb3BzLm1vZGUgfHwgXCJzaW5nbGVcIn1cbiAgICAgIGNhcHRpb25MYXlvdXQ9e2NhcHRpb25MYXlvdXR9XG4gICAgICBudW1iZXJPZk1vbnRocz17bnVtYmVyT2ZNb250aHN9XG4gICAgICBzaG93T3V0c2lkZURheXM9e3Nob3dPdXRzaWRlRGF5c31cbiAgICAgIGNvbXBvbmVudHM9e2NvbXBvbmVudHN9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgIGNsYXNzTmFtZXM9e3tcbiAgICAgICAgbW9udGhzOiBcImZsZXggZ2FwLTQgcmVsYXRpdmVcIixcbiAgICAgICAgbW9udGhfZ3JpZDogY29tcGFjdCA/IHVuZGVmaW5lZCA6IFwibXQtMlwiLFxuICAgICAgICBtb250aF9jYXB0aW9uOiBjbihcbiAgICAgICAgICBcImZsZXggcmVsYXRpdmUgaXRlbXMtY2VudGVyIGZvbnQtbWVkaXVtXCIsXG4gICAgICAgICAgY29tcGFjdCA/IFwidGV4dC1zbSBtdC0xXCIgOiBcInRleHQtbWQgbXQtMC41XCIsXG4gICAgICAgICAgY2FwdGlvbkxheW91dCA9PT0gXCJsYWJlbFwiID8gXCJtbC0xIG1iLTJcIiA6IFwiLW1sLTIgbWItMSBtdC0wXCIsXG4gICAgICAgICksXG4gICAgICAgIGRyb3Bkb3duczogXCJmbGV4XCIsXG4gICAgICAgIHllYXJzX2Ryb3Bkb3duOiBcImFmdGVyOm5vbmVcIixcbiAgICAgICAgbmF2OiBcImFic29sdXRlIHJpZ2h0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBoLTdcIixcbiAgICAgICAgYnV0dG9uX3ByZXZpb3VzOiBjbihOT19CT1JERVIsIHByZXZOZXh0QnV0dG9uU2l6ZSwgXCJncm91cFwiKSxcbiAgICAgICAgYnV0dG9uX25leHQ6IGNuKE5PX0JPUkRFUiwgcHJldk5leHRCdXR0b25TaXplLCBcImdyb3VwXCIpLFxuICAgICAgICBjaGV2cm9uOiBjbihcbiAgICAgICAgICBcImJvcmRlci1iIGJvcmRlci10cmFuc3BhcmVudCBncm91cC1mb2N1czpib3JkZXItY3VycmVudFwiLFxuICAgICAgICAgIHByZXZOZXh0QnV0dG9uU2l6ZSxcbiAgICAgICAgKSxcbiAgICAgICAgd2Vla3M6IFwidy1mdWxsIGJvcmRlci1jb2xsYXBzZSBzcGFjZS15LTFcIixcbiAgICAgICAgd2VlazogXCJmbGV4IHctZnVsbCBtdC0yXCIsXG4gICAgICAgIHdlZWtkYXlzOiBcImZsZXhcIixcbiAgICAgICAgd2Vla2RheTogY24oXG4gICAgICAgICAgXCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgcm91bmRlZC1tZCBmb250LW5vcm1hbFwiLFxuICAgICAgICAgIGNvbXBhY3QgPyBcInctNiBzbTp3LTcgdGV4dC14cyBzbTp0ZXh0LXNtXCIgOiBcInctOCB0ZXh0LXNtXCIsXG4gICAgICAgICksXG4gICAgICAgIGRheTogY24oXG4gICAgICAgICAgXCJyZWxhdGl2ZSBwLTAgZm9jdXMtd2l0aGluOnJlbGF0aXZlIGZvY3VzLXdpdGhpbjp6LTIwIFsmOmhhcyhbYXJpYS1zZWxlY3RlZF0pXTpiZy1hY2NlbnQgWyY6aGFzKFthcmlhLXNlbGVjdGVkXS5vdXRzaWRlKV06YmctYWNjZW50LzUwXCIsXG4gICAgICAgICAgcHJvcHMubW9kZSA9PT0gXCJyYW5nZVwiXG4gICAgICAgICAgICA/IFwiWyYucmFuZ2UtZW5kXTpyb3VuZGVkLXItbWQgWyYucmFuZ2Utc3RhcnRdOnJvdW5kZWQtbC1tZCBmaXJzdDpbJjpoYXMoW2FyaWEtc2VsZWN0ZWRdKV06cm91bmRlZC1sLW1kIGxhc3Q6WyY6aGFzKFthcmlhLXNlbGVjdGVkXSldOnJvdW5kZWQtci1tZFwiXG4gICAgICAgICAgICA6IFwicm91bmRlZC1tZFwiLFxuICAgICAgICApLFxuICAgICAgICBkYXlfYnV0dG9uOiBjbihcbiAgICAgICAgICBidXR0b25WYXJpYW50cyh7IHZhcmlhbnQ6IFwiZ2hvc3RcIiB9KSxcbiAgICAgICAgICBcIlsmOmhvdmVyXTpiZy10cmFuc3BhcmVudCBbJjpob3Zlcl06dGV4dC1pbmhlcml0XCIsIC8vIERpc2FibGUgdGhlIGdob3N0IGJ1dHRvbiBob3ZlclxuICAgICAgICAgIGNvbXBhY3RcbiAgICAgICAgICAgID8gXCJoLTYgdy02IHNtOmgtNyBzbTp3LTcgcC0wIHRleHQteHMgc206dGV4dC1zbVwiXG4gICAgICAgICAgICA6IFwiaC04IHctOCBwLTAuNSB0ZXh0LXNtXCIsXG4gICAgICAgICAgXCJ0ZXh0LWNlbnRlciBmb250LW5vcm1hbFwiLFxuICAgICAgICApLFxuICAgICAgICByYW5nZV9zdGFydDogXCJyYW5nZS1zdGFydFwiLFxuICAgICAgICByYW5nZV9lbmQ6IFwicmFuZ2UtZW5kXCIsXG4gICAgICAgIHNlbGVjdGVkOlxuICAgICAgICAgIFwiYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBob3ZlcjpiZy1wcmltYXJ5IGhvdmVyOnRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIGZvY3VzOmJnLXByaW1hcnkgZm9jdXM6dGV4dC1wcmltYXJ5LWZvcmVncm91bmRcIixcbiAgICAgICAgdG9kYXk6IFwiYmctYWNjZW50IHRleHQtYWNjZW50LWZvcmVncm91bmRcIixcbiAgICAgICAgb3V0c2lkZTpcbiAgICAgICAgICBcIm91dHNpZGUgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG9wYWNpdHktNTAgIGFyaWEtc2VsZWN0ZWQ6YmctYWNjZW50LzUwIGFyaWEtc2VsZWN0ZWQ6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGFyaWEtc2VsZWN0ZWQ6b3BhY2l0eS0zMFwiLFxuICAgICAgICBkaXNhYmxlZDogXCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgb3BhY2l0eS01MFwiLFxuICAgICAgICByYW5nZV9taWRkbGU6XG4gICAgICAgICAgXCJhcmlhLXNlbGVjdGVkOmJnLWFjY2VudCBhcmlhLXNlbGVjdGVkOnRleHQtYWNjZW50LWZvcmVncm91bmRcIixcbiAgICAgICAgaGlkZGVuOiBcImludmlzaWJsZVwiLFxuICAgICAgICAuLi5jbGFzc05hbWVzLFxuICAgICAgfX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuQ2FsZW5kYXIuZGlzcGxheU5hbWUgPSBcIkNhbGVuZGFyXCI7XG5cbmV4cG9ydCB7IENhbGVuZGFyIH07XG4iXX0=