define(["require", "exports", "react/jsx-runtime", "react", "lucide-react", "react-day-picker", "@/lib/utils", "@/components/ui/button"], function (require, exports, jsx_runtime_1, React, lucide_react_1, react_day_picker_1, utils_1, button_1) {
    "use client";
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Calendar = Calendar;
    exports.CalendarDayButton = CalendarDayButton;
    function Calendar({ className, classNames, showOutsideDays = true, captionLayout = "label", buttonVariant = "ghost", formatters, components, ...props }) {
        const defaultClassNames = (0, react_day_picker_1.getDefaultClassNames)();
        return ((0, jsx_runtime_1.jsx)(react_day_picker_1.DayPicker, { showOutsideDays: showOutsideDays, className: (0, utils_1.cn)("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent", String.raw `rtl:**:[.rdp-button\_next>svg]:rotate-180`, String.raw `rtl:**:[.rdp-button\_previous>svg]:rotate-180`, className), captionLayout: captionLayout, formatters: {
                formatMonthDropdown: (date) => date.toLocaleString("default", { month: "short" }),
                ...formatters,
            }, classNames: {
                root: (0, utils_1.cn)("w-fit", defaultClassNames.root),
                months: (0, utils_1.cn)("flex gap-4 flex-col md:flex-row relative", defaultClassNames.months),
                month: (0, utils_1.cn)("flex flex-col w-full gap-4", defaultClassNames.month),
                nav: (0, utils_1.cn)("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between", defaultClassNames.nav),
                button_previous: (0, utils_1.cn)((0, button_1.buttonVariants)({ variant: buttonVariant }), "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none", defaultClassNames.button_previous),
                button_next: (0, utils_1.cn)((0, button_1.buttonVariants)({ variant: buttonVariant }), "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none", defaultClassNames.button_next),
                month_caption: (0, utils_1.cn)("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)", defaultClassNames.month_caption),
                dropdowns: (0, utils_1.cn)("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5", defaultClassNames.dropdowns),
                dropdown_root: (0, utils_1.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md", defaultClassNames.dropdown_root),
                dropdown: (0, utils_1.cn)("absolute inset-0 opacity-0", defaultClassNames.dropdown),
                caption_label: (0, utils_1.cn)("select-none font-medium", captionLayout === "label"
                    ? "text-sm"
                    : "rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5", defaultClassNames.caption_label),
                table: "w-full border-collapse",
                weekdays: (0, utils_1.cn)("flex", defaultClassNames.weekdays),
                weekday: (0, utils_1.cn)("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none", defaultClassNames.weekday),
                week: (0, utils_1.cn)("flex w-full mt-2", defaultClassNames.week),
                week_number_header: (0, utils_1.cn)("select-none w-(--cell-size)", defaultClassNames.week_number_header),
                week_number: (0, utils_1.cn)("text-[0.8rem] select-none text-muted-foreground", defaultClassNames.week_number),
                day: (0, utils_1.cn)("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none", defaultClassNames.day),
                range_start: (0, utils_1.cn)("rounded-l-md bg-accent", defaultClassNames.range_start),
                range_middle: (0, utils_1.cn)("rounded-none", defaultClassNames.range_middle),
                range_end: (0, utils_1.cn)("rounded-r-md bg-accent", defaultClassNames.range_end),
                today: (0, utils_1.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none", defaultClassNames.today),
                outside: (0, utils_1.cn)("text-muted-foreground aria-selected:text-muted-foreground", defaultClassNames.outside),
                disabled: (0, utils_1.cn)("text-muted-foreground opacity-50", defaultClassNames.disabled),
                hidden: (0, utils_1.cn)("invisible", defaultClassNames.hidden),
                ...classNames,
            }, components: {
                Root: ({ className, rootRef, ...props }) => {
                    return ((0, jsx_runtime_1.jsx)("div", { "data-slot": "calendar", ref: rootRef, className: (0, utils_1.cn)(className), ...props }));
                },
                Chevron: ({ className, orientation, ...props }) => {
                    if (orientation === "left") {
                        return ((0, jsx_runtime_1.jsx)(lucide_react_1.ChevronLeftIcon, { className: (0, utils_1.cn)("size-4", className), ...props }));
                    }
                    if (orientation === "right") {
                        return ((0, jsx_runtime_1.jsx)(lucide_react_1.ChevronRightIcon, { className: (0, utils_1.cn)("size-4", className), ...props }));
                    }
                    return ((0, jsx_runtime_1.jsx)(lucide_react_1.ChevronDownIcon, { className: (0, utils_1.cn)("size-4", className), ...props }));
                },
                DayButton: CalendarDayButton,
                WeekNumber: ({ children, ...props }) => {
                    return ((0, jsx_runtime_1.jsx)("td", { ...props, children: (0, jsx_runtime_1.jsx)("div", { className: "flex size-(--cell-size) items-center justify-center text-center", children: children }) }));
                },
                ...components,
            }, ...props }));
    }
    function CalendarDayButton({ className, day, modifiers, ...props }) {
        const defaultClassNames = (0, react_day_picker_1.getDefaultClassNames)();
        const ref = React.useRef(null);
        React.useEffect(() => {
            var _a;
            if (modifiers.focused)
                (_a = ref.current) === null || _a === void 0 ? void 0 : _a.focus();
        }, [modifiers.focused]);
        return ((0, jsx_runtime_1.jsx)(button_1.Button, { ref: ref, variant: "ghost", size: "icon", "data-day": day.date.toLocaleDateString(), "data-selected-single": modifiers.selected &&
                !modifiers.range_start &&
                !modifiers.range_end &&
                !modifiers.range_middle, "data-range-start": modifiers.range_start, "data-range-end": modifiers.range_end, "data-range-middle": modifiers.range_middle, className: (0, utils_1.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70", defaultClassNames.day, className), ...props }));
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsZW5kYXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy91aS9jYWxlbmRhci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtJQUFBLFlBQVksQ0FBQzs7O0lBaU5KLDRCQUFRO0lBQUUsOENBQWlCO0lBcE1wQyxTQUFTLFFBQVEsQ0FBQyxFQUNoQixTQUFTLEVBQ1QsVUFBVSxFQUNWLGVBQWUsR0FBRyxJQUFJLEVBQ3RCLGFBQWEsR0FBRyxPQUFPLEVBQ3ZCLGFBQWEsR0FBRyxPQUFPLEVBQ3ZCLFVBQVUsRUFDVixVQUFVLEVBQ1YsR0FBRyxLQUFLLEVBR1Q7UUFDQyxNQUFNLGlCQUFpQixHQUFHLElBQUEsdUNBQW9CLEdBQUUsQ0FBQztRQUVqRCxPQUFPLENBQ0wsdUJBQUMsNEJBQVMsSUFDUixlQUFlLEVBQUUsZUFBZSxFQUNoQyxTQUFTLEVBQUUsSUFBQSxVQUFFLEVBQ1gsd0pBQXdKLEVBQ3hKLE1BQU0sQ0FBQyxHQUFHLENBQUEsMkNBQTJDLEVBQ3JELE1BQU0sQ0FBQyxHQUFHLENBQUEsK0NBQStDLEVBQ3pELFNBQVMsQ0FDVixFQUNELGFBQWEsRUFBRSxhQUFhLEVBQzVCLFVBQVUsRUFBRTtnQkFDVixtQkFBbUIsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLENBQzVCLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDO2dCQUNwRCxHQUFHLFVBQVU7YUFDZCxFQUNELFVBQVUsRUFBRTtnQkFDVixJQUFJLEVBQUUsSUFBQSxVQUFFLEVBQUMsT0FBTyxFQUFFLGlCQUFpQixDQUFDLElBQUksQ0FBQztnQkFDekMsTUFBTSxFQUFFLElBQUEsVUFBRSxFQUNSLDBDQUEwQyxFQUMxQyxpQkFBaUIsQ0FBQyxNQUFNLENBQ3pCO2dCQUNELEtBQUssRUFBRSxJQUFBLFVBQUUsRUFBQyw0QkFBNEIsRUFBRSxpQkFBaUIsQ0FBQyxLQUFLLENB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QUcsS0FBSyxDQUFDLE1BQU0sQ0FBb0IsSUFBSSxDQUFDLENBQUM7UUFDbEQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7O1lBQ25CLElBQUksU0FBUyxDQUFDLE9BQU87Z0JBQUUsTUFBQSxHQUFHLENBQUMsT0FBTywwQ0FBRSxLQUFLLEVBQUUsQ0FBQztRQUM5QyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUV4QixPQUFPLENBQ0wsdUJBQUMsZUFBTSxJQUNMLEdBQUcsRUFBRSxHQUFHLEVBQ1IsT0FBTyxFQUFDLE9BQU8sRUFDZixJQUFJLEVBQUMsTUFBTSxjQUNELEdBQUcsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsMEJBRXJDLFNBQVMsQ0FBQyxRQUFRO2dCQUNsQixDQUFDLFNBQVMsQ0FBQyxXQUFXO2dCQUN0QixDQUFDLFNBQVMsQ0FBQyxTQUFTO2dCQUNwQixDQUFDLFNBQVMsQ0FBQyxZQUFZLHNCQUVQLFNBQVMsQ0FBQyxXQUFXLG9CQUN2QixTQUFTLENBQUMsU0FBUyx1QkFDaEIsU0FBUyxDQUFDLFlBQVksRUFDekMsU0FBUyxFQUFFLElBQUEsVUFBRSxFQUNYLGszQkFBazNCLEVBQ2wzQixpQkFBaUIsQ0FBQyxHQUFHLEVBQ3JCLFNBQVMsQ0FDVixLQUNHLEtBQUssR0FDVCxDQUNILENBQUM7SUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgQ2hldnJvbkRvd25JY29uLFxuICBDaGV2cm9uTGVmdEljb24sXG4gIENoZXZyb25SaWdodEljb24sXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IERheUJ1dHRvbiwgRGF5UGlja2VyLCBnZXREZWZhdWx0Q2xhc3NOYW1lcyB9IGZyb20gXCJyZWFjdC1kYXktcGlja2VyXCI7XG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgeyBCdXR0b24sIGJ1dHRvblZhcmlhbnRzIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcblxuZnVuY3Rpb24gQ2FsZW5kYXIoe1xuICBjbGFzc05hbWUsXG4gIGNsYXNzTmFtZXMsXG4gIHNob3dPdXRzaWRlRGF5cyA9IHRydWUsXG4gIGNhcHRpb25MYXlvdXQgPSBcImxhYmVsXCIsXG4gIGJ1dHRvblZhcmlhbnQgPSBcImdob3N0XCIsXG4gIGZvcm1hdHRlcnMsXG4gIGNvbXBvbmVudHMsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRGF5UGlja2VyPiAmIHtcbiAgYnV0dG9uVmFyaWFudD86IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBCdXR0b24+W1widmFyaWFudFwiXTtcbn0pIHtcbiAgY29uc3QgZGVmYXVsdENsYXNzTmFtZXMgPSBnZXREZWZhdWx0Q2xhc3NOYW1lcygpO1xuXG4gIHJldHVybiAoXG4gICAgPERheVBpY2tlclxuICAgICAgc2hvd091dHNpZGVEYXlzPXtzaG93T3V0c2lkZURheXN9XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcImJnLWJhY2tncm91bmQgZ3JvdXAvY2FsZW5kYXIgcC0zIFstLWNlbGwtc2l6ZTotLXNwYWNpbmcoOCldIFtbZGF0YS1zbG90PWNhcmQtY29udGVudF1fJl06YmctdHJhbnNwYXJlbnQgW1tkYXRhLXNsb3Q9cG9wb3Zlci1jb250ZW50XV8mXTpiZy10cmFuc3BhcmVudFwiLFxuICAgICAgICBTdHJpbmcucmF3YHJ0bDoqKjpbLnJkcC1idXR0b25cXF9uZXh0PnN2Z106cm90YXRlLTE4MGAsXG4gICAgICAgIFN0cmluZy5yYXdgcnRsOioqOlsucmRwLWJ1dHRvblxcX3ByZXZpb3VzPnN2Z106cm90YXRlLTE4MGAsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICl9XG4gICAgICBjYXB0aW9uTGF5b3V0PXtjYXB0aW9uTGF5b3V0fVxuICAgICAgZm9ybWF0dGVycz17e1xuICAgICAgICBmb3JtYXRNb250aERyb3Bkb3duOiAoZGF0ZSkgPT5cbiAgICAgICAgICBkYXRlLnRvTG9jYWxlU3RyaW5nKFwiZGVmYXVsdFwiLCB7IG1vbnRoOiBcInNob3J0XCIgfSksXG4gICAgICAgIC4uLmZvcm1hdHRlcnMsXG4gICAgICB9fVxuICAgICAgY2xhc3NOYW1lcz17e1xuICAgICAgICByb290OiBjbihcInctZml0XCIsIGRlZmF1bHRDbGFzc05hbWVzLnJvb3QpLFxuICAgICAgICBtb250aHM6IGNuKFxuICAgICAgICAgIFwiZmxleCBnYXAtNCBmbGV4LWNvbCBtZDpmbGV4LXJvdyByZWxhdGl2ZVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLm1vbnRocyxcbiAgICAgICAgKSxcbiAgICAgICAgbW9udGg6IGNuKFwiZmxleCBmbGV4LWNvbCB3LWZ1bGwgZ2FwLTRcIiwgZGVmYXVsdENsYXNzTmFtZXMubW9udGgpLFxuICAgICAgICBuYXY6IGNuKFxuICAgICAgICAgIFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdy1mdWxsIGFic29sdXRlIHRvcC0wIGluc2V0LXgtMCBqdXN0aWZ5LWJldHdlZW5cIixcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lcy5uYXYsXG4gICAgICAgICksXG4gICAgICAgIGJ1dHRvbl9wcmV2aW91czogY24oXG4gICAgICAgICAgYnV0dG9uVmFyaWFudHMoeyB2YXJpYW50OiBidXR0b25WYXJpYW50IH0pLFxuICAgICAgICAgIFwic2l6ZS0oLS1jZWxsLXNpemUpIGFyaWEtZGlzYWJsZWQ6b3BhY2l0eS01MCBwLTAgc2VsZWN0LW5vbmVcIixcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lcy5idXR0b25fcHJldmlvdXMsXG4gICAgICAgICksXG4gICAgICAgIGJ1dHRvbl9uZXh0OiBjbihcbiAgICAgICAgICBidXR0b25WYXJpYW50cyh7IHZhcmlhbnQ6IGJ1dHRvblZhcmlhbnQgfSksXG4gICAgICAgICAgXCJzaXplLSgtLWNlbGwtc2l6ZSkgYXJpYS1kaXNhYmxlZDpvcGFjaXR5LTUwIHAtMCBzZWxlY3Qtbm9uZVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLmJ1dHRvbl9uZXh0LFxuICAgICAgICApLFxuICAgICAgICBtb250aF9jYXB0aW9uOiBjbihcbiAgICAgICAgICBcImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtKC0tY2VsbC1zaXplKSB3LWZ1bGwgcHgtKC0tY2VsbC1zaXplKVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLm1vbnRoX2NhcHRpb24sXG4gICAgICAgICksXG4gICAgICAgIGRyb3Bkb3duczogY24oXG4gICAgICAgICAgXCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbSBmb250LW1lZGl1bSBqdXN0aWZ5LWNlbnRlciBoLSgtLWNlbGwtc2l6ZSkgZ2FwLTEuNVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLmRyb3Bkb3ducyxcbiAgICAgICAgKSxcbiAgICAgICAgZHJvcGRvd25fcm9vdDogY24oXG4gICAgICAgICAgXCJyZWxhdGl2ZSBoYXMtZm9jdXM6Ym9yZGVyLXJpbmcgYm9yZGVyIGJvcmRlci1pbnB1dCBzaGFkb3cteHMgaGFzLWZvY3VzOnJpbmctcmluZy81MCBoYXMtZm9jdXM6cmluZy1bM3B4XSByb3VuZGVkLW1kXCIsXG4gICAgICAgICAgZGVmYXVsdENsYXNzTmFtZXMuZHJvcGRvd25fcm9vdCxcbiAgICAgICAgKSxcbiAgICAgICAgZHJvcGRvd246IGNuKFwiYWJzb2x1dGUgaW5zZXQtMCBvcGFjaXR5LTBcIiwgZGVmYXVsdENsYXNzTmFtZXMuZHJvcGRvd24pLFxuICAgICAgICBjYXB0aW9uX2xhYmVsOiBjbihcbiAgICAgICAgICBcInNlbGVjdC1ub25lIGZvbnQtbWVkaXVtXCIsXG4gICAgICAgICAgY2FwdGlvbkxheW91dCA9PT0gXCJsYWJlbFwiXG4gICAgICAgICAgICA/IFwidGV4dC1zbVwiXG4gICAgICAgICAgICA6IFwicm91bmRlZC1tZCBwbC0yIHByLTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1zbSBoLTggWyY+c3ZnXTp0ZXh0LW11dGVkLWZvcmVncm91bmQgWyY+c3ZnXTpzaXplLTMuNVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLmNhcHRpb25fbGFiZWwsXG4gICAgICAgICksXG4gICAgICAgIHRhYmxlOiBcInctZnVsbCBib3JkZXItY29sbGFwc2VcIixcbiAgICAgICAgd2Vla2RheXM6IGNuKFwiZmxleFwiLCBkZWZhdWx0Q2xhc3NOYW1lcy53ZWVrZGF5cyksXG4gICAgICAgIHdlZWtkYXk6IGNuKFxuICAgICAgICAgIFwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHJvdW5kZWQtbWQgZmxleC0xIGZvbnQtbm9ybWFsIHRleHQtWzAuOHJlbV0gc2VsZWN0LW5vbmVcIixcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lcy53ZWVrZGF5LFxuICAgICAgICApLFxuICAgICAgICB3ZWVrOiBjbihcImZsZXggdy1mdWxsIG10LTJcIiwgZGVmYXVsdENsYXNzTmFtZXMud2VlayksXG4gICAgICAgIHdlZWtfbnVtYmVyX2hlYWRlcjogY24oXG4gICAgICAgICAgXCJzZWxlY3Qtbm9uZSB3LSgtLWNlbGwtc2l6ZSlcIixcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lcy53ZWVrX251bWJlcl9oZWFkZXIsXG4gICAgICAgICksXG4gICAgICAgIHdlZWtfbnVtYmVyOiBjbihcbiAgICAgICAgICBcInRleHQtWzAuOHJlbV0gc2VsZWN0LW5vbmUgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgICAgZGVmYXVsdENsYXNzTmFtZXMud2Vla19udW1iZXIsXG4gICAgICAgICksXG4gICAgICAgIGRheTogY24oXG4gICAgICAgICAgXCJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIHAtMCB0ZXh0LWNlbnRlciBbJjpmaXJzdC1jaGlsZFtkYXRhLXNlbGVjdGVkPXRydWVdX2J1dHRvbl06cm91bmRlZC1sLW1kIFsmOmxhc3QtY2hpbGRbZGF0YS1zZWxlY3RlZD10cnVlXV9idXR0b25dOnJvdW5kZWQtci1tZCBncm91cC9kYXkgYXNwZWN0LXNxdWFyZSBzZWxlY3Qtbm9uZVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLmRheSxcbiAgICAgICAgKSxcbiAgICAgICAgcmFuZ2Vfc3RhcnQ6IGNuKFxuICAgICAgICAgIFwicm91bmRlZC1sLW1kIGJnLWFjY2VudFwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLnJhbmdlX3N0YXJ0LFxuICAgICAgICApLFxuICAgICAgICByYW5nZV9taWRkbGU6IGNuKFwicm91bmRlZC1ub25lXCIsIGRlZmF1bHRDbGFzc05hbWVzLnJhbmdlX21pZGRsZSksXG4gICAgICAgIHJhbmdlX2VuZDogY24oXCJyb3VuZGVkLXItbWQgYmctYWNjZW50XCIsIGRlZmF1bHRDbGFzc05hbWVzLnJhbmdlX2VuZCksXG4gICAgICAgIHRvZGF5OiBjbihcbiAgICAgICAgICBcImJnLWFjY2VudCB0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIHJvdW5kZWQtbWQgZGF0YS1bc2VsZWN0ZWQ9dHJ1ZV06cm91bmRlZC1ub25lXCIsXG4gICAgICAgICAgZGVmYXVsdENsYXNzTmFtZXMudG9kYXksXG4gICAgICAgICksXG4gICAgICAgIG91dHNpZGU6IGNuKFxuICAgICAgICAgIFwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGFyaWEtc2VsZWN0ZWQ6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgICAgZGVmYXVsdENsYXNzTmFtZXMub3V0c2lkZSxcbiAgICAgICAgKSxcbiAgICAgICAgZGlzYWJsZWQ6IGNuKFxuICAgICAgICAgIFwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG9wYWNpdHktNTBcIixcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lcy5kaXNhYmxlZCxcbiAgICAgICAgKSxcbiAgICAgICAgaGlkZGVuOiBjbihcImludmlzaWJsZVwiLCBkZWZhdWx0Q2xhc3NOYW1lcy5oaWRkZW4pLFxuICAgICAgICAuLi5jbGFzc05hbWVzLFxuICAgICAgfX1cbiAgICAgIGNvbXBvbmVudHM9e3tcbiAgICAgICAgUm9vdDogKHsgY2xhc3NOYW1lLCByb290UmVmLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgZGF0YS1zbG90PVwiY2FsZW5kYXJcIlxuICAgICAgICAgICAgICByZWY9e3Jvb3RSZWZ9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBDaGV2cm9uOiAoeyBjbGFzc05hbWUsIG9yaWVudGF0aW9uLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcImxlZnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPENoZXZyb25MZWZ0SWNvbiBjbGFzc05hbWU9e2NuKFwic2l6ZS00XCIsIGNsYXNzTmFtZSl9IHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxDaGV2cm9uUmlnaHRJY29uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcInNpemUtNFwiLCBjbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxDaGV2cm9uRG93bkljb24gY2xhc3NOYW1lPXtjbihcInNpemUtNFwiLCBjbGFzc05hbWUpfSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgRGF5QnV0dG9uOiBDYWxlbmRhckRheUJ1dHRvbixcbiAgICAgICAgV2Vla051bWJlcjogKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRkIHsuLi5wcm9wc30+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzaXplLSgtLWNlbGwtc2l6ZSkgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgLi4uY29tcG9uZW50cyxcbiAgICAgIH19XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ2FsZW5kYXJEYXlCdXR0b24oe1xuICBjbGFzc05hbWUsXG4gIGRheSxcbiAgbW9kaWZpZXJzLFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIERheUJ1dHRvbj4pIHtcbiAgY29uc3QgZGVmYXVsdENsYXNzTmFtZXMgPSBnZXREZWZhdWx0Q2xhc3NOYW1lcygpO1xuXG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MQnV0dG9uRWxlbWVudD4obnVsbCk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1vZGlmaWVycy5mb2N1c2VkKSByZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgfSwgW21vZGlmaWVycy5mb2N1c2VkXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICByZWY9e3JlZn1cbiAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICBzaXplPVwiaWNvblwiXG4gICAgICBkYXRhLWRheT17ZGF5LmRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG4gICAgICBkYXRhLXNlbGVjdGVkLXNpbmdsZT17XG4gICAgICAgIG1vZGlmaWVycy5zZWxlY3RlZCAmJlxuICAgICAgICAhbW9kaWZpZXJzLnJhbmdlX3N0YXJ0ICYmXG4gICAgICAgICFtb2RpZmllcnMucmFuZ2VfZW5kICYmXG4gICAgICAgICFtb2RpZmllcnMucmFuZ2VfbWlkZGxlXG4gICAgICB9XG4gICAgICBkYXRhLXJhbmdlLXN0YXJ0PXttb2RpZmllcnMucmFuZ2Vfc3RhcnR9XG4gICAgICBkYXRhLXJhbmdlLWVuZD17bW9kaWZpZXJzLnJhbmdlX2VuZH1cbiAgICAgIGRhdGEtcmFuZ2UtbWlkZGxlPXttb2RpZmllcnMucmFuZ2VfbWlkZGxlfVxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJkYXRhLVtzZWxlY3RlZC1zaW5nbGU9dHJ1ZV06YmctcHJpbWFyeSBkYXRhLVtzZWxlY3RlZC1zaW5nbGU9dHJ1ZV06dGV4dC1wcmltYXJ5LWZvcmVncm91bmQgZGF0YS1bcmFuZ2UtbWlkZGxlPXRydWVdOmJnLWFjY2VudCBkYXRhLVtyYW5nZS1taWRkbGU9dHJ1ZV06dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCBkYXRhLVtyYW5nZS1zdGFydD10cnVlXTpiZy1wcmltYXJ5IGRhdGEtW3JhbmdlLXN0YXJ0PXRydWVdOnRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIGRhdGEtW3JhbmdlLWVuZD10cnVlXTpiZy1wcmltYXJ5IGRhdGEtW3JhbmdlLWVuZD10cnVlXTp0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBncm91cC1kYXRhLVtmb2N1c2VkPXRydWVdL2RheTpib3JkZXItcmluZyBncm91cC1kYXRhLVtmb2N1c2VkPXRydWVdL2RheTpyaW5nLXJpbmcvNTAgZGFyazpob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIGZsZXggYXNwZWN0LXNxdWFyZSBzaXplLWF1dG8gdy1mdWxsIG1pbi13LSgtLWNlbGwtc2l6ZSkgZmxleC1jb2wgZ2FwLTEgbGVhZGluZy1ub25lIGZvbnQtbm9ybWFsIGdyb3VwLWRhdGEtW2ZvY3VzZWQ9dHJ1ZV0vZGF5OnJlbGF0aXZlIGdyb3VwLWRhdGEtW2ZvY3VzZWQ9dHJ1ZV0vZGF5OnotMTAgZ3JvdXAtZGF0YS1bZm9jdXNlZD10cnVlXS9kYXk6cmluZy1bM3B4XSBkYXRhLVtyYW5nZS1lbmQ9dHJ1ZV06cm91bmRlZC1tZCBkYXRhLVtyYW5nZS1lbmQ9dHJ1ZV06cm91bmRlZC1yLW1kIGRhdGEtW3JhbmdlLW1pZGRsZT10cnVlXTpyb3VuZGVkLW5vbmUgZGF0YS1bcmFuZ2Utc3RhcnQ9dHJ1ZV06cm91bmRlZC1tZCBkYXRhLVtyYW5nZS1zdGFydD10cnVlXTpyb3VuZGVkLWwtbWQgWyY+c3Bhbl06dGV4dC14cyBbJj5zcGFuXTpvcGFjaXR5LTcwXCIsXG4gICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLmRheSxcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgeyBDYWxlbmRhciwgQ2FsZW5kYXJEYXlCdXR0b24gfTtcbiJdfQ==