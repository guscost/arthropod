define(["require", "exports", "react/jsx-runtime", "react", "lucide-react", "react-day-picker", "@/lib/utils", "@/components/ui/button"], function (require, exports, jsx_runtime_1, React, lucide_react_1, react_day_picker_1, utils_1, button_1) {
    "use client";
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Calendar = Calendar;
    exports.CalendarDayButton = CalendarDayButton;
    function Calendar({ className, classNames, showOutsideDays = true, captionLayout = "label", buttonVariant = "ghost", formatters, components, ...props }) {
        const defaultClassNames = (0, react_day_picker_1.getDefaultClassNames)();
        return ((0, jsx_runtime_1.jsx)(react_day_picker_1.DayPicker, { showOutsideDays: showOutsideDays, className: (0, utils_1.cn)("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent", String.raw `rtl:**:[.rdp-button\_next>svg]:rotate-180`, String.raw `rtl:**:[.rdp-button\_previous>svg]:rotate-180`, className), captionLayout: captionLayout, formatters: {
                formatMonthDropdown: (date) => date.toLocaleString("default", { month: "short" }),
                ...formatters,
            }, classNames: {
                root: (0, utils_1.cn)("w-fit", defaultClassNames.root),
                months: (0, utils_1.cn)("flex gap-4 flex-col md:flex-row relative", defaultClassNames.months),
                month: (0, utils_1.cn)("flex flex-col w-full gap-4", defaultClassNames.month),
                nav: (0, utils_1.cn)("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between", defaultClassNames.nav),
                button_previous: (0, utils_1.cn)((0, button_1.buttonVariants)({ variant: buttonVariant }), "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none", defaultClassNames.button_previous),
                button_next: (0, utils_1.cn)((0, button_1.buttonVariants)({ variant: buttonVariant }), "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none", defaultClassNames.button_next),
                month_caption: (0, utils_1.cn)("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)", defaultClassNames.month_caption),
                dropdowns: (0, utils_1.cn)("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5", defaultClassNames.dropdowns),
                dropdown_root: (0, utils_1.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md", defaultClassNames.dropdown_root),
                dropdown: (0, utils_1.cn)("absolute bg-background inset-0 opacity-0", defaultClassNames.dropdown),
                caption_label: (0, utils_1.cn)("select-none font-medium", captionLayout === "label"
                    ? "text-sm"
                    : "rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5", defaultClassNames.caption_label),
                table: "w-full border-collapse",
                weekdays: (0, utils_1.cn)("flex", defaultClassNames.weekdays),
                weekday: (0, utils_1.cn)("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none", defaultClassNames.weekday),
                week: (0, utils_1.cn)("flex w-full mt-2", defaultClassNames.week),
                week_number_header: (0, utils_1.cn)("select-none w-(--cell-size)", defaultClassNames.week_number_header),
                week_number: (0, utils_1.cn)("text-[0.8rem] select-none text-muted-foreground", defaultClassNames.week_number),
                day: (0, utils_1.cn)("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none", defaultClassNames.day),
                range_start: (0, utils_1.cn)("rounded-l-md bg-accent", defaultClassNames.range_start),
                range_middle: (0, utils_1.cn)("rounded-none", defaultClassNames.range_middle),
                range_end: (0, utils_1.cn)("rounded-r-md bg-accent", defaultClassNames.range_end),
                today: (0, utils_1.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none", defaultClassNames.today),
                outside: (0, utils_1.cn)("text-muted-foreground aria-selected:text-muted-foreground", defaultClassNames.outside),
                disabled: (0, utils_1.cn)("text-muted-foreground opacity-50", defaultClassNames.disabled),
                hidden: (0, utils_1.cn)("invisible", defaultClassNames.hidden),
                ...classNames,
            }, components: {
                Root: ({ className, rootRef, ...props }) => {
                    return ((0, jsx_runtime_1.jsx)("div", { "data-slot": "calendar", ref: rootRef, className: (0, utils_1.cn)(className), ...props }));
                },
                Chevron: ({ className, orientation, ...props }) => {
                    if (orientation === "left") {
                        return ((0, jsx_runtime_1.jsx)(lucide_react_1.ChevronLeftIcon, { className: (0, utils_1.cn)("size-4", className), ...props }));
                    }
                    if (orientation === "right") {
                        return ((0, jsx_runtime_1.jsx)(lucide_react_1.ChevronRightIcon, { className: (0, utils_1.cn)("size-4", className), ...props }));
                    }
                    return ((0, jsx_runtime_1.jsx)(lucide_react_1.ChevronDownIcon, { className: (0, utils_1.cn)("size-4", className), ...props }));
                },
                DayButton: CalendarDayButton,
                WeekNumber: ({ children, ...props }) => {
                    return ((0, jsx_runtime_1.jsx)("td", { ...props, children: (0, jsx_runtime_1.jsx)("div", { className: "flex size-(--cell-size) items-center justify-center text-center", children: children }) }));
                },
                ...components,
            }, ...props }));
    }
    function CalendarDayButton({ className, day, modifiers, ...props }) {
        const defaultClassNames = (0, react_day_picker_1.getDefaultClassNames)();
        const ref = React.useRef(null);
        React.useEffect(() => {
            var _a;
            if (modifiers.focused)
                (_a = ref.current) === null || _a === void 0 ? void 0 : _a.focus();
        }, [modifiers.focused]);
        return ((0, jsx_runtime_1.jsx)(button_1.Button, { ref: ref, variant: "ghost", size: "icon", "data-day": day.date.toLocaleDateString(), "data-selected-single": modifiers.selected &&
                !modifiers.range_start &&
                !modifiers.range_end &&
                !modifiers.range_middle, "data-range-start": modifiers.range_start, "data-range-end": modifiers.range_end, "data-range-middle": modifiers.range_middle, className: (0, utils_1.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70", defaultClassNames.day, className), ...props }));
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsZW5kYXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy91aS9jYWxlbmRhci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtJQUFBLFlBQVksQ0FBQzs7O0lBaU5KLDRCQUFRO0lBQUUsOENBQWlCO0lBcE1wQyxTQUFTLFFBQVEsQ0FBQyxFQUNoQixTQUFTLEVBQ1QsVUFBVSxFQUNWLGVBQWUsR0FBRyxJQUFJLEVBQ3RCLGFBQWEsR0FBRyxPQUFPLEVBQ3ZCLGFBQWEsR0FBRyxPQUFPLEVBQ3ZCLFVBQVUsRUFDVixVQUFVLEVBQ1YsR0FBRyxLQUFLLEVBR1Q7UUFDQyxNQUFNLGlCQUFpQixHQUFHLElBQUEsdUNBQW9CLEdBQUUsQ0FBQztRQUVqRCxPQUFPLENBQ0wsdUJBQUMsNEJBQVMsSUFDUixlQUFlLEVBQUUsZUFBZSxFQUNoQyxTQUFTLEVBQUUsSUFBQSxVQUFFLEVBQ1gsd0pBQXdKLEVBQ3hKLE1BQU0sQ0FBQyxHQUFHLENBQUEsMkNBQTJDLEVBQ3JELE1BQU0sQ0FBQyxHQUFHLENBQUEsK0NBQStDLEVBQ3pELFNBQVMsQ0FDVixFQUNELGFBQWEsRUFBRSxhQUFhLEVBQzVCLFVBQVUsRUFBRTtnQkFDVixtQkFBbUIsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLENBQzVCLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDO2dCQUNwRCxHQUFHLFVBQVU7YUFDZCxFQUNELFVBQVUsRUFBRTtnQkFDVixJQUFJLEVBQUUsSUFBQSxVQUFFLEVBQUMsT0FBTyxFQUFFLGlCQUFpQixDQUFDLElBQUksQ0FBQztnQkFDekMsTUFBTSxFQUFFLElBQUEsVUFBRSxFQUNSLDBDQUEwQyxFQUMxQyxpQkFBaUIsQ0FBQyxNQUFNLENBQ3pCO2dCQUNELEtBQUssRUFBRSxJQUFBLFVBQUUsRUFBQyw0QkFBNEIsRUFBRSxpQkFBaUIsQ0FBQyxLQUFLLENBQUM7Z0JBQ2hFLEdBQUcsRUFBRSxJQUFBLFVBQUUsRUFDTCx5RUFBeUUsRUFDekUsaUJBQWlCLENBQUMsR0FBRyxDQUN0QjtnQkFDRCxlQUFlLEVBQUUsSUFBQSxVQUFFLEVBQ2pCLElBQUEsdUJBQWMsRUFBQyxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsQ0FBQyxFQUMxQyw2REFBNkQsRUFDN0QsaUJBQWlCLENBQUMsZUFBZSxDQUNsQztnQkFDRCxXQUFXLEVBQUUsSUFBQSxVQUFFLEVBQ2IsSUFBQSx1QkFBYyxFQUFDLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxDQUFDLEVBQzFDLDZEQUE2RCxFQUM3RCxpQkFBaUIsQ0FBQyxXQUFXLENBQzlCO2dCQUNELGFBQWEsRUFBRSxJQUFBLFVBQUUsRUFDZiwwRUFBMEUsRUFDMUUsaUJBQWlCLENBQUMsYUFBYSxDQUNoQztnQkFDRCxTQUFTLEVBQUUsSUFBQSxVQUFFLEVBQ1gscUZBQXFGLEVBQ3JGLGlCQUFpQixDQUFDLFNBQVMsQ0FDNUI7Z0JBQ0QsYUFBYSxFQUFFLElBQUEsVUFBRSxFQUNmLHFIQUFxSCxFQUNySCxpQkFBaUIsQ0FBQyxhQUFhLENBQ2hDO2dCQUNELFFBQVEsRUFBRSxJQUFBLFVBQUUsRUFBQywwQ0FBMEMsRUFBRSxpQkFBaUIsQ0FBQyxRQUFRLENBQUM7Z0JBQ3BGLGFBQWEsRUFBRSxJQUFBLFVBQUUsRUFDZix5QkFBeUIsRUFDekIsYUFBYSxLQUFLLE9BQU87b0JBQ3ZCLENBQUMsQ0FBQyxTQUFTO29CQUNYLENBQUMsQ0FBQyx5R0FBeUcsRUFDN0csaUJBQWlCLENBQUMsYUFBYSxDQUNoQztnQkFDRCxLQUFLLEVBQUUsd0JBQXdCO2dCQUMvQixRQUFRLEVBQUUsSUFBQSxVQUFFLEVBQUMsTUFBTSxFQUFFLGlCQUFpQixDQUFDLFFBQVEsQ0FBQztnQkFDaEQsT0FBTyxFQUFFLElBQUEsVUFBRSxFQUNULCtFQUErRSxFQUMvRSxpQkFBaUIsQ0FBQyxPQUFPLENBQzFCO2dCQUNELElBQUksRUFBRSxJQUFBLFVBQUUsRUFBQyxrQkFBa0IsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7Z0JBQ3BELGtCQUFrQixFQUFFLElBQUEsVUFBRSxFQUNwQiw2QkFBNkIsRUFDN0IsaUJBQWlCLENBQUMsa0JBQWtCLENBQ3JDO2dCQUNELFdBQVcsRUFBRSxJQUFBLFVBQUUsRUFDYixpREFBaUQsRUFDakQsaUJBQWlCLENBQUMsV0FBVyxDQUM5QjtnQkFDRCxHQUFHLEVBQUUsSUFBQSxVQUFFLEVBQ0wsMkxBQTJMLEVBQzNMLGlCQUFpQixDQUFDLEdBQUcsQ0FDdEI7Z0JBQ0QsV0FBVyxFQUFFLElBQUEsVUFBRSxFQUNiLHdCQUF3QixFQUN4QixpQkFBaUIsQ0FBQyxXQUFXLENBQzlCO2dCQUNELFlBQVksRUFBRSxJQUFBLFVBQUUsRUFBQyxjQUFjLEVBQUUsaUJBQWlCLENBQUMsWUFBWSxDQUFDO2dCQUNoRSxTQUFTLEVBQUUsSUFBQSxVQUFFLEVBQUMsd0JBQXdCLEVBQUUsaUJBQWlCLENBQUMsU0FBUyxDQUFDO2dCQUNwRSxLQUFLLEVBQUUsSUFBQSxVQUFFLEVBQ1AsK0VBQStFLEVBQy9FLGlCQUFpQixDQUFDLEtBQUssQ0FDeEI7Z0JBQ0QsT0FBTyxFQUFFLElBQUEsVUFBRSxFQUNULDJEQUEyRCxFQUMzRCxpQkFBaUIsQ0FBQyxPQUFPLENBQzFCO2dCQUNELFFBQVEsRUFBRSxJQUFBLFVBQUUsRUFDVixrQ0FBa0MsRUFDbEMsaUJBQWlCLENBQUMsUUFBUSxDQUMzQjtnQkFDRCxNQUFNLEVBQUUsSUFBQSxVQUFFLEVBQUMsV0FBVyxFQUFFLGlCQUFpQixDQUFDLE1BQU0sQ0FBQztnQkFDakQsR0FBRyxVQUFVO2FBQ2QsRUFDRCxVQUFVLEVBQUU7Z0JBQ1YsSUFBSSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLEdBQUcsS0FBSyxFQUFFLEVBQUUsRUFBRTtvQkFDekMsT0FBTyxDQUNMLDZDQUNZLFVBQVUsRUFDcEIsR0FBRyxFQUFFLE9BQU8sRUFDWixTQUFTLEVBQUUsSUFBQSxVQUFFLEVBQUMsU0FBUyxDQUFDLEtBQ3BCLEtBQUssR0FDVCxDQUNILENBQUM7Z0JBQ0osQ0FBQztnQkFDRCxPQUFPLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFBRSxFQUFFO29CQUNoRCxJQUFJLFdBQVcsS0FBSyxNQUFNLEVBQUUsQ0FBQzt3QkFDM0IsT0FBTyxDQUNMLHVCQUFDLDhCQUFlLElBQUMsU0FBUyxFQUFFLElBQUEsVUFBRSxFQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsS0FBTSxLQUFLLEdBQUksQ0FDbkUsQ0FBQztvQkFDSixDQUFDO29CQUVELElBQUksV0FBVyxLQUFLLE9BQU8sRUFBRSxDQUFDO3dCQUM1QixPQUFPLENBQ0wsdUJBQUMsK0JBQWdCLElBQ2YsU0FBUyxFQUFFLElBQUEsVUFBRSxFQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsS0FDOUIsS0FBSyxHQUNULENBQ0gsQ0FBQztvQkFDSixDQUFDO29CQUVELE9BQU8sQ0FDTCx1QkFBQyw4QkFBZSxJQUFDLFNBQVMsRUFBRSxJQUFBLFVBQUUsRUFBQyxRQUFRLEVBQUUsU0FBUyxDQUFDLEtBQU0sS0FBSyxHQUFJLENBQ25FLENBQUM7Z0JBQ0osQ0FBQztnQkFDRCxTQUFTLEVBQUUsaUJBQWlCO2dCQUM1QixVQUFVLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxHQUFHLEtBQUssRUFBRSxFQUFFLEVBQUU7b0JBQ3JDLE9BQU8sQ0FDTCxrQ0FBUSxLQUFLLFlBQ1gsZ0NBQUssU0FBUyxFQUFDLGlFQUFpRSxZQUM3RSxRQUFRLEdBQ0wsR0FDSCxDQUNOLENBQUM7Z0JBQ0osQ0FBQztnQkFDRCxHQUFHLFVBQVU7YUFDZCxLQUNHLEtBQUssR0FDVCxDQUNILENBQUM7SUFDSixDQUFDO0lBRUQsU0FBUyxpQkFBaUIsQ0FBQyxFQUN6QixTQUFTLEVBQ1QsR0FBRyxFQUNILFNBQVMsRUFDVCxHQUFHLEtBQUssRUFDK0I7UUFDdkMsTUFBTSxpQkFBaUIsR0FBRyxJQUFBLHVDQUFvQixHQUFFLENBQUM7UUFFakQsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBb0IsSUFBSSxDQUFDLENBQUM7UUFDbEQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7O1lBQ25CLElBQUksU0FBUyxDQUFDLE9BQU87Z0JBQUUsTUFBQSxHQUFHLENBQUMsT0FBTywwQ0FBRSxLQUFLLEVBQUUsQ0FBQztRQUM5QyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUV4QixPQUFPLENBQ0wsdUJBQUMsZUFBTSxJQUNMLEdBQUcsRUFBRSxHQUFHLEVBQ1IsT0FBTyxFQUFDLE9BQU8sRUFDZixJQUFJLEVBQUMsTUFBTSxjQUNELEdBQUcsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsMEJBRXJDLFNBQVMsQ0FBQyxRQUFRO2dCQUNsQixDQUFDLFNBQVMsQ0FBQyxXQUFXO2dCQUN0QixDQUFDLFNBQVMsQ0FBQyxTQUFTO2dCQUNwQixDQUFDLFNBQVMsQ0FBQyxZQUFZLHNCQUVQLFNBQVMsQ0FBQyxXQUFXLG9CQUN2QixTQUFTLENBQUMsU0FBUyx1QkFDaEIsU0FBUyxDQUFDLFlBQVksRUFDekMsU0FBUyxFQUFFLElBQUEsVUFBRSxFQUNYLGszQkFBazNCLEVBQ2wzQixpQkFBaUIsQ0FBQyxHQUFHLEVBQ3JCLFNBQVMsQ0FDVixLQUNHLEtBQUssR0FDVCxDQUNILENBQUM7SUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgQ2hldnJvbkRvd25JY29uLFxuICBDaGV2cm9uTGVmdEljb24sXG4gIENoZXZyb25SaWdodEljb24sXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IERheUJ1dHRvbiwgRGF5UGlja2VyLCBnZXREZWZhdWx0Q2xhc3NOYW1lcyB9IGZyb20gXCJyZWFjdC1kYXktcGlja2VyXCI7XG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgeyBCdXR0b24sIGJ1dHRvblZhcmlhbnRzIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcblxuZnVuY3Rpb24gQ2FsZW5kYXIoe1xuICBjbGFzc05hbWUsXG4gIGNsYXNzTmFtZXMsXG4gIHNob3dPdXRzaWRlRGF5cyA9IHRydWUsXG4gIGNhcHRpb25MYXlvdXQgPSBcImxhYmVsXCIsXG4gIGJ1dHRvblZhcmlhbnQgPSBcImdob3N0XCIsXG4gIGZvcm1hdHRlcnMsXG4gIGNvbXBvbmVudHMsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRGF5UGlja2VyPiAmIHtcbiAgYnV0dG9uVmFyaWFudD86IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBCdXR0b24+W1widmFyaWFudFwiXTtcbn0pIHtcbiAgY29uc3QgZGVmYXVsdENsYXNzTmFtZXMgPSBnZXREZWZhdWx0Q2xhc3NOYW1lcygpO1xuXG4gIHJldHVybiAoXG4gICAgPERheVBpY2tlclxuICAgICAgc2hvd091dHNpZGVEYXlzPXtzaG93T3V0c2lkZURheXN9XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcImJnLWJhY2tncm91bmQgZ3JvdXAvY2FsZW5kYXIgcC0zIFstLWNlbGwtc2l6ZTotLXNwYWNpbmcoOCldIFtbZGF0YS1zbG90PWNhcmQtY29udGVudF1fJl06YmctdHJhbnNwYXJlbnQgW1tkYXRhLXNsb3Q9cG9wb3Zlci1jb250ZW50XV8mXTpiZy10cmFuc3BhcmVudFwiLFxuICAgICAgICBTdHJpbmcucmF3YHJ0bDoqKjpbLnJkcC1idXR0b25cXF9uZXh0PnN2Z106cm90YXRlLTE4MGAsXG4gICAgICAgIFN0cmluZy5yYXdgcnRsOioqOlsucmRwLWJ1dHRvblxcX3ByZXZpb3VzPnN2Z106cm90YXRlLTE4MGAsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICl9XG4gICAgICBjYXB0aW9uTGF5b3V0PXtjYXB0aW9uTGF5b3V0fVxuICAgICAgZm9ybWF0dGVycz17e1xuICAgICAgICBmb3JtYXRNb250aERyb3Bkb3duOiAoZGF0ZSkgPT5cbiAgICAgICAgICBkYXRlLnRvTG9jYWxlU3RyaW5nKFwiZGVmYXVsdFwiLCB7IG1vbnRoOiBcInNob3J0XCIgfSksXG4gICAgICAgIC4uLmZvcm1hdHRlcnMsXG4gICAgICB9fVxuICAgICAgY2xhc3NOYW1lcz17e1xuICAgICAgICByb290OiBjbihcInctZml0XCIsIGRlZmF1bHRDbGFzc05hbWVzLnJvb3QpLFxuICAgICAgICBtb250aHM6IGNuKFxuICAgICAgICAgIFwiZmxleCBnYXAtNCBmbGV4LWNvbCBtZDpmbGV4LXJvdyByZWxhdGl2ZVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLm1vbnRocyxcbiAgICAgICAgKSxcbiAgICAgICAgbW9udGg6IGNuKFwiZmxleCBmbGV4LWNvbCB3LWZ1bGwgZ2FwLTRcIiwgZGVmYXVsdENsYXNzTmFtZXMubW9udGgpLFxuICAgICAgICBuYXY6IGNuKFxuICAgICAgICAgIFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdy1mdWxsIGFic29sdXRlIHRvcC0wIGluc2V0LXgtMCBqdXN0aWZ5LWJldHdlZW5cIixcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lcy5uYXYsXG4gICAgICAgICksXG4gICAgICAgIGJ1dHRvbl9wcmV2aW91czogY24oXG4gICAgICAgICAgYnV0dG9uVmFyaWFudHMoeyB2YXJpYW50OiBidXR0b25WYXJpYW50IH0pLFxuICAgICAgICAgIFwic2l6ZS0oLS1jZWxsLXNpemUpIGFyaWEtZGlzYWJsZWQ6b3BhY2l0eS01MCBwLTAgc2VsZWN0LW5vbmVcIixcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lcy5idXR0b25fcHJldmlvdXMsXG4gICAgICAgICksXG4gICAgICAgIGJ1dHRvbl9uZXh0OiBjbihcbiAgICAgICAgICBidXR0b25WYXJpYW50cyh7IHZhcmlhbnQ6IGJ1dHRvblZhcmlhbnQgfSksXG4gICAgICAgICAgXCJzaXplLSgtLWNlbGwtc2l6ZSkgYXJpYS1kaXNhYmxlZDpvcGFjaXR5LTUwIHAtMCBzZWxlY3Qtbm9uZVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLmJ1dHRvbl9uZXh0LFxuICAgICAgICApLFxuICAgICAgICBtb250aF9jYXB0aW9uOiBjbihcbiAgICAgICAgICBcImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtKC0tY2VsbC1zaXplKSB3LWZ1bGwgcHgtKC0tY2VsbC1zaXplKVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLm1vbnRoX2NhcHRpb24sXG4gICAgICAgICksXG4gICAgICAgIGRyb3Bkb3duczogY24oXG4gICAgICAgICAgXCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbSBmb250LW1lZGl1bSBqdXN0aWZ5LWNlbnRlciBoLSgtLWNlbGwtc2l6ZSkgZ2FwLTEuNVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLmRyb3Bkb3ducyxcbiAgICAgICAgKSxcbiAgICAgICAgZHJvcGRvd25fcm9vdDogY24oXG4gICAgICAgICAgXCJyZWxhdGl2ZSBoYXMtZm9jdXM6Ym9yZGVyLXJpbmcgYm9yZGVyIGJvcmRlci1pbnB1dCBzaGFkb3cteHMgaGFzLWZvY3VzOnJpbmctcmluZy81MCBoYXMtZm9jdXM6cmluZy1bM3B4XSByb3VuZGVkLW1kXCIsXG4gICAgICAgICAgZGVmYXVsdENsYXNzTmFtZXMuZHJvcGRvd25fcm9vdCxcbiAgICAgICAgKSxcbiAgICAgICAgZHJvcGRvd246IGNuKFwiYWJzb2x1dGUgYmctYmFja2dyb3VuZCBpbnNldC0wIG9wYWNpdHktMFwiLCBkZWZhdWx0Q2xhc3NOYW1lcy5kcm9wZG93biksXG4gICAgICAgIGNhcHRpb25fbGFiZWw6IGNuKFxuICAgICAgICAgIFwic2VsZWN0LW5vbmUgZm9udC1tZWRpdW1cIixcbiAgICAgICAgICBjYXB0aW9uTGF5b3V0ID09PSBcImxhYmVsXCJcbiAgICAgICAgICAgID8gXCJ0ZXh0LXNtXCJcbiAgICAgICAgICAgIDogXCJyb3VuZGVkLW1kIHBsLTIgcHItMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LXNtIGgtOCBbJj5zdmddOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCBbJj5zdmddOnNpemUtMy41XCIsXG4gICAgICAgICAgZGVmYXVsdENsYXNzTmFtZXMuY2FwdGlvbl9sYWJlbCxcbiAgICAgICAgKSxcbiAgICAgICAgdGFibGU6IFwidy1mdWxsIGJvcmRlci1jb2xsYXBzZVwiLFxuICAgICAgICB3ZWVrZGF5czogY24oXCJmbGV4XCIsIGRlZmF1bHRDbGFzc05hbWVzLndlZWtkYXlzKSxcbiAgICAgICAgd2Vla2RheTogY24oXG4gICAgICAgICAgXCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgcm91bmRlZC1tZCBmbGV4LTEgZm9udC1ub3JtYWwgdGV4dC1bMC44cmVtXSBzZWxlY3Qtbm9uZVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLndlZWtkYXksXG4gICAgICAgICksXG4gICAgICAgIHdlZWs6IGNuKFwiZmxleCB3LWZ1bGwgbXQtMlwiLCBkZWZhdWx0Q2xhc3NOYW1lcy53ZWVrKSxcbiAgICAgICAgd2Vla19udW1iZXJfaGVhZGVyOiBjbihcbiAgICAgICAgICBcInNlbGVjdC1ub25lIHctKC0tY2VsbC1zaXplKVwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLndlZWtfbnVtYmVyX2hlYWRlcixcbiAgICAgICAgKSxcbiAgICAgICAgd2Vla19udW1iZXI6IGNuKFxuICAgICAgICAgIFwidGV4dC1bMC44cmVtXSBzZWxlY3Qtbm9uZSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIixcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lcy53ZWVrX251bWJlcixcbiAgICAgICAgKSxcbiAgICAgICAgZGF5OiBjbihcbiAgICAgICAgICBcInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgcC0wIHRleHQtY2VudGVyIFsmOmZpcnN0LWNoaWxkW2RhdGEtc2VsZWN0ZWQ9dHJ1ZV1fYnV0dG9uXTpyb3VuZGVkLWwtbWQgWyY6bGFzdC1jaGlsZFtkYXRhLXNlbGVjdGVkPXRydWVdX2J1dHRvbl06cm91bmRlZC1yLW1kIGdyb3VwL2RheSBhc3BlY3Qtc3F1YXJlIHNlbGVjdC1ub25lXCIsXG4gICAgICAgICAgZGVmYXVsdENsYXNzTmFtZXMuZGF5LFxuICAgICAgICApLFxuICAgICAgICByYW5nZV9zdGFydDogY24oXG4gICAgICAgICAgXCJyb3VuZGVkLWwtbWQgYmctYWNjZW50XCIsXG4gICAgICAgICAgZGVmYXVsdENsYXNzTmFtZXMucmFuZ2Vfc3RhcnQsXG4gICAgICAgICksXG4gICAgICAgIHJhbmdlX21pZGRsZTogY24oXCJyb3VuZGVkLW5vbmVcIiwgZGVmYXVsdENsYXNzTmFtZXMucmFuZ2VfbWlkZGxlKSxcbiAgICAgICAgcmFuZ2VfZW5kOiBjbihcInJvdW5kZWQtci1tZCBiZy1hY2NlbnRcIiwgZGVmYXVsdENsYXNzTmFtZXMucmFuZ2VfZW5kKSxcbiAgICAgICAgdG9kYXk6IGNuKFxuICAgICAgICAgIFwiYmctYWNjZW50IHRleHQtYWNjZW50LWZvcmVncm91bmQgcm91bmRlZC1tZCBkYXRhLVtzZWxlY3RlZD10cnVlXTpyb3VuZGVkLW5vbmVcIixcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lcy50b2RheSxcbiAgICAgICAgKSxcbiAgICAgICAgb3V0c2lkZTogY24oXG4gICAgICAgICAgXCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgYXJpYS1zZWxlY3RlZDp0ZXh0LW11dGVkLWZvcmVncm91bmRcIixcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lcy5vdXRzaWRlLFxuICAgICAgICApLFxuICAgICAgICBkaXNhYmxlZDogY24oXG4gICAgICAgICAgXCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgb3BhY2l0eS01MFwiLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVzLmRpc2FibGVkLFxuICAgICAgICApLFxuICAgICAgICBoaWRkZW46IGNuKFwiaW52aXNpYmxlXCIsIGRlZmF1bHRDbGFzc05hbWVzLmhpZGRlbiksXG4gICAgICAgIC4uLmNsYXNzTmFtZXMsXG4gICAgICB9fVxuICAgICAgY29tcG9uZW50cz17e1xuICAgICAgICBSb290OiAoeyBjbGFzc05hbWUsIHJvb3RSZWYsIC4uLnByb3BzIH0pID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBkYXRhLXNsb3Q9XCJjYWxlbmRhclwiXG4gICAgICAgICAgICAgIHJlZj17cm9vdFJlZn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihjbGFzc05hbWUpfVxuICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIENoZXZyb246ICh7IGNsYXNzTmFtZSwgb3JpZW50YXRpb24sIC4uLnByb3BzIH0pID0+IHtcbiAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT09IFwibGVmdFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8Q2hldnJvbkxlZnRJY29uIGNsYXNzTmFtZT17Y24oXCJzaXplLTRcIiwgY2xhc3NOYW1lKX0gey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPENoZXZyb25SaWdodEljb25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFwic2l6ZS00XCIsIGNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPENoZXZyb25Eb3duSWNvbiBjbGFzc05hbWU9e2NuKFwic2l6ZS00XCIsIGNsYXNzTmFtZSl9IHsuLi5wcm9wc30gLz5cbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBEYXlCdXR0b246IENhbGVuZGFyRGF5QnV0dG9uLFxuICAgICAgICBXZWVrTnVtYmVyOiAoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGQgey4uLnByb3BzfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNpemUtKC0tY2VsbC1zaXplKSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAuLi5jb21wb25lbnRzLFxuICAgICAgfX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBDYWxlbmRhckRheUJ1dHRvbih7XG4gIGNsYXNzTmFtZSxcbiAgZGF5LFxuICBtb2RpZmllcnMsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRGF5QnV0dG9uPikge1xuICBjb25zdCBkZWZhdWx0Q2xhc3NOYW1lcyA9IGdldERlZmF1bHRDbGFzc05hbWVzKCk7XG5cbiAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmPEhUTUxCdXR0b25FbGVtZW50PihudWxsKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobW9kaWZpZXJzLmZvY3VzZWQpIHJlZi5jdXJyZW50Py5mb2N1cygpO1xuICB9LCBbbW9kaWZpZXJzLmZvY3VzZWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIHJlZj17cmVmfVxuICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgIHNpemU9XCJpY29uXCJcbiAgICAgIGRhdGEtZGF5PXtkYXkuZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKX1cbiAgICAgIGRhdGEtc2VsZWN0ZWQtc2luZ2xlPXtcbiAgICAgICAgbW9kaWZpZXJzLnNlbGVjdGVkICYmXG4gICAgICAgICFtb2RpZmllcnMucmFuZ2Vfc3RhcnQgJiZcbiAgICAgICAgIW1vZGlmaWVycy5yYW5nZV9lbmQgJiZcbiAgICAgICAgIW1vZGlmaWVycy5yYW5nZV9taWRkbGVcbiAgICAgIH1cbiAgICAgIGRhdGEtcmFuZ2Utc3RhcnQ9e21vZGlmaWVycy5yYW5nZV9zdGFydH1cbiAgICAgIGRhdGEtcmFuZ2UtZW5kPXttb2RpZmllcnMucmFuZ2VfZW5kfVxuICAgICAgZGF0YS1yYW5nZS1taWRkbGU9e21vZGlmaWVycy5yYW5nZV9taWRkbGV9XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcImRhdGEtW3NlbGVjdGVkLXNpbmdsZT10cnVlXTpiZy1wcmltYXJ5IGRhdGEtW3NlbGVjdGVkLXNpbmdsZT10cnVlXTp0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBkYXRhLVtyYW5nZS1taWRkbGU9dHJ1ZV06YmctYWNjZW50IGRhdGEtW3JhbmdlLW1pZGRsZT10cnVlXTp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIGRhdGEtW3JhbmdlLXN0YXJ0PXRydWVdOmJnLXByaW1hcnkgZGF0YS1bcmFuZ2Utc3RhcnQ9dHJ1ZV06dGV4dC1wcmltYXJ5LWZvcmVncm91bmQgZGF0YS1bcmFuZ2UtZW5kPXRydWVdOmJnLXByaW1hcnkgZGF0YS1bcmFuZ2UtZW5kPXRydWVdOnRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIGdyb3VwLWRhdGEtW2ZvY3VzZWQ9dHJ1ZV0vZGF5OmJvcmRlci1yaW5nIGdyb3VwLWRhdGEtW2ZvY3VzZWQ9dHJ1ZV0vZGF5OnJpbmctcmluZy81MCBkYXJrOmhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmQgZmxleCBhc3BlY3Qtc3F1YXJlIHNpemUtYXV0byB3LWZ1bGwgbWluLXctKC0tY2VsbC1zaXplKSBmbGV4LWNvbCBnYXAtMSBsZWFkaW5nLW5vbmUgZm9udC1ub3JtYWwgZ3JvdXAtZGF0YS1bZm9jdXNlZD10cnVlXS9kYXk6cmVsYXRpdmUgZ3JvdXAtZGF0YS1bZm9jdXNlZD10cnVlXS9kYXk6ei0xMCBncm91cC1kYXRhLVtmb2N1c2VkPXRydWVdL2RheTpyaW5nLVszcHhdIGRhdGEtW3JhbmdlLWVuZD10cnVlXTpyb3VuZGVkLW1kIGRhdGEtW3JhbmdlLWVuZD10cnVlXTpyb3VuZGVkLXItbWQgZGF0YS1bcmFuZ2UtbWlkZGxlPXRydWVdOnJvdW5kZWQtbm9uZSBkYXRhLVtyYW5nZS1zdGFydD10cnVlXTpyb3VuZGVkLW1kIGRhdGEtW3JhbmdlLXN0YXJ0PXRydWVdOnJvdW5kZWQtbC1tZCBbJj5zcGFuXTp0ZXh0LXhzIFsmPnNwYW5dOm9wYWNpdHktNzBcIixcbiAgICAgICAgZGVmYXVsdENsYXNzTmFtZXMuZGF5LFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCB7IENhbGVuZGFyLCBDYWxlbmRhckRheUJ1dHRvbiB9O1xuIl19